import{_ as $}from"./PrimaryButton-505ae165.js";import{_ as j}from"./AuthenticatedLayout-0b4545fd.js";import{k as f,T as G,h as n,J as B,o as a,f as r,a as e,u as c,w as o,F as _,Z as E,b as t,t as d,q as h,g as F,i as M,j as g,d as O,K as R,N as b}from"./app-846bdf4e.js";import{I as S}from"./iconify-9fabe4c1.js";import"./ApplicationLogo-00219c91.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const U=t("div",{class:"tw-text-2xl"},"Informações do Grupo",-1),P={class:"tw-flex tw-flex-col tw-gap-2"},T={key:0},J=t("h6",null,"Permissões: ",-1),K={class:"tw-flex tw-flex-1 tw-flex-col"},L={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},Z={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},z=t("h4",{class:"tw-font-title tw-font-semibold"},"Controle de Usuários",-1),H={class:"tw-inline-block tw-min-w-full tw-shadow tw-rounded-lg tw-overflow-hidden"},Q={class:"tw-min-w-full tw-leading-normal"},W=t("thead",null,[t("tr",null,[t("th",{class:"tw-px-5 tw-py-3 tw-border-b-2 tw-border-gray-200 tw-bg-gray-100 tw-text-left tw-text-xs tw-font-semibold tw-text-gray-600 tw-uppercase tw-tracking-wider"}," Nome "),t("th",{class:"tw-px-5 tw-py-3 tw-border-b-2 tw-border-gray-200 tw-bg-gray-100 tw-text-left tw-text-xs tw-font-semibold tw-text-gray-600 tw-uppercase tw-tracking-wider"}," Ações ")])],-1),X={class:"tw-px-5 tw-py-5 tw-border-b tw-border-gray-200 tw-bg-white tw-text-sm"},Y={class:"tw-flex tw-items-center"},tt={class:"tw-ml-3"},et={class:"tw-text-gray-900 tw-whitespace-no-wrap tw-items-center"},st={class:"tw-px-5 tw-py-5 tw-border-b tw-border-gray-200 tw-bg-white tw-text-sm"},ot=["onClick"],lt=t("span",{"aria-hidden":"",class:"tw-absolute tw-inset-0 tw-bg-slate-200 tw-opacity-50 tw-rounded-full"},null,-1),at=t("span",{class:"tw-relative"},"Detalhar",-1),rt=[lt,at],nt=t("span",{"aria-hidden":"",class:"tw-absolute tw-inset-0 tw-bg-blue-200 tw-opacity-50 tw-rounded-full"},null,-1),it=t("span",{class:"tw-relative"},"Editar",-1),wt=["onClick"],ct=t("span",{"aria-hidden":"",class:"tw-absolute tw-inset-0 tw-bg-red-200 tw-opacity-50 tw-rounded-full"},null,-1),dt=t("span",{class:"tw-relative"},"Deletar",-1),ut=[ct,dt],xt={__name:"Index",props:{roles:{type:Array,default:[]},permissions:{type:Array,default:[]}},setup(x){const v=x,i=f({}),u=f(!1);function y(l=[]){u.value=!0,i.value=l}const k=G({id:"",name:"",permissions:[]});function q(l){R.create({title:"<h5>Confirmação</h5>",message:`<p>Você deseja realmente remover o grupo <b>${l.name}</b>?</p>`,cancel:!0,persistent:!0,html:!0}).onOk(()=>{k.delete(route("painel.gestao.grupos.destroy",l.id),{preserveScroll:!0,onSuccess:w=>{showModal.value=!1,b.create({message:"Grupo removido com sucesso.",color:"secondary"})},onError:w=>{b.create({message:"Não foi possível remover esse grupo.",color:"negative"})}})})}return(l,w)=>{const m=n("q-card-section"),C=n("q-btn"),N=n("q-card-actions"),D=n("q-card"),I=n("q-dialog"),V=B("close-popup");return a(),r(_,null,[e(c(E),{title:"Grupos"}),e(j,null,{default:o(()=>[e(I,{modelValue:u.value,"onUpdate:modelValue":w[0]||(w[0]=s=>u.value=s)},{default:o(()=>[e(D,{style:{"min-width":"40vw","max-width":"90vw"}},{default:o(()=>[e(m,null,{default:o(()=>[U]),_:1}),e(m,{class:"q-pt-none"},{default:o(()=>[t("div",P,[t("p",null,"Nome: "+d(i.value.name),1),i.value.permissions.length?(a(),r("ul",T,[J,(a(!0),r(_,null,h(i.value.permissions,(s,p)=>(a(),r("li",{key:p},d(s.id)+" - "+d(s.name),1))),128))])):F("",!0)])]),_:1}),e(N,{align:"right"},{default:o(()=>[M(e(C,{label:"Fechar",color:"dark"},null,512),[[V]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t("div",K,[t("div",L,[t("div",Z,[z,e(c(g),{href:l.route("painel.gestao.grupos.create")},{default:o(()=>[e($,{class:"tw-text-white tw-bg-blue-500 tw-items-center"},{default:o(()=>[e(c(S),{icon:"icon-park-outline:add",class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2"}),O(" ADICIONAR GRUPO ")]),_:1})]),_:1},8,["href"])]),t("div",H,[t("table",Q,[W,t("tbody",null,[(a(!0),r(_,null,h(v.roles,(s,p)=>(a(),r("tr",{key:p},[t("td",X,[t("div",Y,[t("div",tt,[t("p",et,d(s.name),1)])])]),t("td",st,[t("span",{onClick:A=>y(s),class:"tw-relative tw-cursor-pointer tw-inline-block tw-px-3 tw-py-1 tw-font-semibold tw-text-gray-900 tw-leading-tight"},rt,8,ot),e(c(g),{href:l.route("painel.gestao.grupos.editar",s.id),class:"tw-relative tw-cursor-pointer tw-inline-block tw-px-3 tw-py-1 tw-font-semibold tw-text-blue-900 tw-leading-tight"},{default:o(()=>[nt,it]),_:2},1032,["href"]),t("span",{onClick:A=>q(s),class:"tw-relative tw-cursor-pointer tw-inline-block tw-px-3 tw-py-1 tw-font-semibold tw-text-red-900 tw-leading-tight"},ut,8,wt)])]))),128))])])])])])]),_:1})],64)}}};export{xt as default};
