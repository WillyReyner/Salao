import{_ as c}from"./InputError-8e97e87c.js";import{_ as u}from"./InputLabel-e21345d2.js";import{_ as j}from"./PrimaryButton-0afca82d.js";import{_ as L}from"./AuthenticatedLayout-0a5f0791.js";import{_ as P,a as R}from"./DocumentInEdital-03677de3.js";import{I as D}from"./iconify-59ac6911.js";import{k as p,T,x as I,h as f,o as B,f as z,a as e,u as o,w,F as Q,Z as X,b as d,d as _,j as Z,O as G,N as S}from"./app-4ab3c1a7.js";import"./ApplicationLogo-af625855.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-63df1496.js";const H={class:"tw-flex tw-flex-1 tw-flex-col"},J={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},K=d("div",{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},[d("h4",{class:"tw-font-title tw-font-semibold"}," Alterar Edital ")],-1),W=d("div",{class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-m-2"},[d("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4",style:{"border-bottom":"2px solid #ccc"}}," INFORMAÇÕES BÁSICAS ")],-1),Y={class:"tw-flex md:tw-flex-row tw-flex-col md: tw-gap-2 tw-m-2"},tt={class:"tw-flex tw-flex-col"},et={class:"tw-flex tw-flex-auto tw-flex-col tw-mt-4"},ot={class:"tw-flex tw-flex-row"},lt={class:"tw-flex tw-flex-col"},it={class:"tw-flex tw-flex-col tw-w-[40%]"},at={class:"tw-flex tw-flex-col tw-w-[20%]"},st={class:"tw-flex tw-flex-col tw-w-[20%]"},dt={class:"tw-grid tw-grid-cols-12 tw-gap-5"},rt={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-2"},nt={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-2"},ut={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-4"},ct={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-4"},wt={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-3"},mt={class:"tw-flex tw-flex-row"},pt={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-3"},ft=d("div",{class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-m-2"},[d("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4",style:{"border-bottom":"2px solid #ccc"}}," ANEXAR ARQUIVOS ")],-1),_t={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},gt=d("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4"}," VINCULE AS TURMAS DO EDITAL ",-1),bt={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items"},vt=["href"],xt={class:"tw-flex tw-justify-end tw-gap-2 tw-pt-4"},kt={__name:"Editar",props:{edital:{type:Object,default:{}},escolas:{type:Array,default:[]},tiposArquivo:{type:Array,default:[]},municipios:{type:Array,default:""},turmas:{type:Array,default:""},documentos:{type:Array,default:""},tipoarquivos:{type:Array,default:[]},editalModelo:{type:Array,default:[]}},setup(U){const a=U;p(""),p(""),p(null);const g=p(null),b=p([]),x=p([]),v=p([]),y=a.escolas.map(l=>({label:l.nome,value:l.id})),k=a.municipios.map(l=>({label:l.nome,value:l.id})),F=a.editalModelo.map(l=>({label:l.nome,value:l.id})),M=["Ativo","Inativo","Bloqueado"],V=a.tipoarquivos.map(l=>({label:l.nome,value:l.id})),q=a.tipoarquivos.map(l=>({label:l.nome,value:l.id})),t=T({id:a.edital.id,nome:a.edital.nome,dt_publicacao:a.edital.dt_publicacao?a.edital.dt_publicacao.split(" ")[0]:"",dt_fim_edital:a.edital.dt_fim_edital?a.edital.dt_fim_edital.split(" ")[0]:"",numero_edital:a.edital.numero_edital,escola_id:a.edital.escola_id?a.edital.escola.nome:"",documentos_inscricao:a.edital.tipo_arquivos.length>0?a.edital.tipo_arquivos.filter(l=>l.tipo==="1").map(l=>({label:l.tipo_arquivo.nome,value:l.tipo_arquivo.id})):[],documentos_matricula:a.edital.tipo_arquivos.length>0?a.edital.tipo_arquivos.filter(l=>l.tipo==="2").map(l=>({label:l.tipo_arquivo.nome,value:l.tipo_arquivo.id})):[],agendar_publicacao:a.edital.agendar_publicacao,dt_inicio_inscricao:a.edital.dt_inicio_inscricao?a.edital.dt_inicio_inscricao.split(" ")[0]:"",dt_fim_inscricao:a.edital.dt_fim_inscricao?a.edital.dt_fim_inscricao.split(" ")[0]:"",situacao:a.edital.situacao,municipio_id:a.edital.municipio_id,udepi:a.edital.udepi});function h(l,i){if(l===""){i(()=>{b.value=y,x.value=V,v.value=q});return}i(()=>{const r=l.toLowerCase();b.value=y.filter(n=>n.label.toLowerCase().indexOf(r)>-1),x.value=V.filter(n=>n.label.toLowerCase().indexOf(r)>-1),v.value=q.filter(n=>n.label.toLowerCase().indexOf(r)>-1)})}function O(){const l={dt_publicacao:"Data de Publicação",dt_fim_edital:"Fim do Edital",numero_edital:"Número do Edital",escola_id:"Escola",documentos_inscricao:"Documentação Exigida",documentos_matricula:"Documentação para Matrícula",agendar_publicacao:"Agendar Publicação",dt_inicio_inscricao:"Início da Inscrição",dt_fim_inscricao:"Término da Inscrição",situacao:"Status",municipio_id:"Município",udepi:"UDEPI"};Object.keys(l).forEach(r=>{t[r]?t.errors[r]=null:t.errors[r]=`O campo ${l[r]} é obrigatório`})}function C(){O(),t.escola_id=a.edital.escola.id,G.post(route("painel.editais.update",t.id),{_method:"patch",...t},{preserveScroll:!0,forceFormData:!0,onSuccess:l=>{t.reset(),S.create({message:"Dados do edital atualizados com sucesso.",color:"secondary"})},onError:l=>{S.create({message:"Não foi possível atualizar os dados do edital.",color:"negative"})}})}I(()=>t.udepi,l=>{l!=="Sim"&&g.value!==null&&(t.municipio_id=g.value)}),I(()=>[t.dt_publicacao,t.dt_fim_edital],([l,i])=>{const r=new Date,n=new Date(l),m=new Date(i);n<=r&&r<=m?t.situacao="Ativo":t.situacao="Inativo"});function $(){var l;t.escola_id!==null?t.municipio_id=(l=a.escolas.find(i=>i.id===t.escola_id.value))==null?void 0:l.municipio_id:t.municipio_id=null}function A(l){l==="Sim"?g.value=t.municipio_id:l==="Nao"&&(t.municipio_id=g.value)}return(l,i)=>{const r=f("q-input"),n=f("q-radio"),m=f("q-select"),E=f("q-item-section"),N=f("q-item");return B(),z(Q,null,[e(o(X),{title:"Editais"}),e(L,null,{default:w(()=>[d("div",H,[d("div",J,[K,W,d("div",Y,[d("div",tt,[e(u,{for:"dt_publicacao",required:"",value:"Data de Publicação"}),e(r,{id:"dt_publicacao",modelValue:o(t).dt_publicacao,"onUpdate:modelValue":i[0]||(i[0]=s=>o(t).dt_publicacao=s),autocomplete:"dt_publicacao",autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),e(c,{message:o(t).errors.dt_publicacao,class:"tw-mt-2"},null,8,["message"]),d("div",et,[e(u,{for:"agendar_publicacao",required:"",value:"Agendar Publicação"}),d("div",ot,[e(n,{modelValue:o(t).agendar_publicacao,"onUpdate:modelValue":i[1]||(i[1]=s=>o(t).agendar_publicacao=s),label:"Sim",val:"Sim"},null,8,["modelValue"]),e(n,{modelValue:o(t).agendar_publicacao,"onUpdate:modelValue":i[2]||(i[2]=s=>o(t).agendar_publicacao=s),label:"Não",val:"Nao"},null,8,["modelValue"])]),e(c,{message:o(t).errors.destaque,class:"tw-mt-2"},null,8,["message"])])]),d("div",lt,[e(u,{for:"dt_fim_edital",required:"",value:"Fim do Edital"}),e(r,{id:"dt_fim_edital",modelValue:o(t).dt_fim_edital,"onUpdate:modelValue":i[3]||(i[3]=s=>o(t).dt_fim_edital=s),autocomplete:"dt_fim_edital",autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),e(c,{message:o(t).errors.dt_fim_edital,class:"tw-mt-2"},null,8,["message"])]),d("div",it,[e(u,{for:"nome",required:"",value:"Nome"}),e(m,{modelValue:o(t).nome,"onUpdate:modelValue":i[4]||(i[4]=s=>o(t).nome=s),options:o(F),class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:""},null,8,["modelValue","options"]),e(c,{message:o(t).errors.nome,class:"tw-mt-2"},null,8,["message"])]),d("div",at,[e(u,{for:"numero_edital",required:"",value:"Número do Edital"}),e(r,{modelValue:o(t).numero_edital,"onUpdate:modelValue":i[5]||(i[5]=s=>o(t).numero_edital=s),class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",mask:"###########",outlined:""},null,8,["modelValue"]),e(c,{message:o(t).errors.numero_edital,class:"tw-mt-2"},null,8,["message"])]),d("div",st,[e(u,{for:"situacao",required:"",value:"Status"}),e(m,{modelValue:o(t).situacao,"onUpdate:modelValue":i[6]||(i[6]=s=>o(t).situacao=s),options:M,class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",readonly:""},null,8,["modelValue"]),e(c,{message:o(t).errors.situacao,class:"tw-mt-2"},null,8,["message"])])]),d("div",dt,[d("div",rt,[e(u,{for:"dt_inicio_inscricao",required:"",value:"Início da Inscrição"}),e(r,{id:"dt_inicio_inscricao",modelValue:o(t).dt_inicio_inscricao,"onUpdate:modelValue":i[7]||(i[7]=s=>o(t).dt_inicio_inscricao=s),autocomplete:"dt_inicio_inscricao",autofocus:"",class:"tw-mt-1 tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),e(c,{message:o(t).errors.dt_inicio_inscricao,class:"tw-mt-2"},null,8,["message"])]),d("div",nt,[e(u,{for:"dt_fim_inscricao",required:"",value:"Término da Inscrição"}),e(r,{id:"dt_fim_inscricao",modelValue:o(t).dt_fim_inscricao,"onUpdate:modelValue":i[8]||(i[8]=s=>o(t).dt_fim_inscricao=s),autocomplete:"dt_fim_inscricao",autofocus:"",class:"tw-mt-1 tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),e(c,{message:o(t).errors.dt_fim_inscricao,class:"tw-mt-2"},null,8,["message"])]),d("div",ut,[e(u,{for:"escola_id",required:"",value:"Escolas"}),e(m,{modelValue:o(t).escola_id,"onUpdate:modelValue":[i[9]||(i[9]=s=>o(t).escola_id=s),$],options:b.value,behavior:"menu",class:"tw-mt-1 tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm","input-debounce":"0",outlined:"","use-input":"",onFilter:h},{"no-option":w(()=>[e(N,null,{default:w(()=>[e(E,{class:"text-grey"},{default:w(()=>[_(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"]),e(c,{message:o(t).errors.escola_id,class:"tw-mt-2"},null,8,["message"])]),d("div",ct,[e(u,{for:"municipio_id",required:"",value:"Municipios"}),e(m,{id:"municipio_id",modelValue:o(t).municipio_id,"onUpdate:modelValue":i[10]||(i[10]=s=>o(t).municipio_id=s),options:o(k),readonly:o(t).udepi==="Nao"||o(t).udepi==="",class:"tw-mt-1 tw-text-gray-700 tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm","emit-value":"","map-options":"",outlined:"",placeholder:"Selecione a Escola primeiro"},null,8,["modelValue","options","readonly"]),e(c,{message:o(t).errors.municipio_id,class:"tw-mt-2"},null,8,["message"])]),d("div",wt,[e(u,{for:"udepi",required:"",value:"UDEPI?"}),d("div",mt,[e(n,{modelValue:o(t).udepi,"onUpdate:modelValue":[i[11]||(i[11]=s=>o(t).udepi=s),i[12]||(i[12]=s=>A("Sim"))],label:"Sim",val:"Sim"},null,8,["modelValue"]),e(n,{modelValue:o(t).udepi,"onUpdate:modelValue":[i[13]||(i[13]=s=>o(t).udepi=s),i[14]||(i[14]=s=>A("Nao"))],label:"Não",val:"Nao"},null,8,["modelValue"])]),e(c,{message:o(t).errors.destaque,class:"tw-mt-2"},null,8,["message"])])]),d("div",pt,[e(u,{for:"documentos_matricula",required:"",value:"Documentação Para Matricula"}),e(m,{modelValue:o(t).documentos_matricula,"onUpdate:modelValue":i[15]||(i[15]=s=>o(t).documentos_matricula=s),options:v.value,behavior:"menu",class:"tw-mt-1 tw-h-[100%] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm","input-debounce":"0",multiple:"",outlined:"","use-chips":"","use-input":"",onFilter:h},{"no-option":w(()=>[e(N,null,{default:w(()=>[e(E,{class:"text-grey"},{default:w(()=>[_(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),ft,e(P,{documentos:a.documentos,edital_id:a.edital.id},null,8,["documentos","edital_id"]),d("div",_t,[gt,d("div",bt,[d("a",{href:l.route("painel.turmas.create"),target:"_blank"},[e(j,{class:"tw-text-white tw-bg-green-500 tw-items-center"},{default:w(()=>[e(o(D),{class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2",icon:"icon-park-outline:add"}),_(" ADICIONAR TURMA ")]),_:1})],8,vt)])]),e(R,{edital_id:a.edital.id,turmas:a.turmas},null,8,["edital_id","turmas"]),d("div",xt,[e(o(Z),{href:l.route("painel.editais"),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},{default:w(()=>[_(" CANCELAR ")]),_:1},8,["href"]),d("span",{class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-border-transparent tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-white tw-bg-green-500 tw-items-center",onClick:i[16]||(i[16]=s=>C())},[e(o(D),{class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2",icon:"fluent:save-16-regular"}),_(" Salvar ")])])])])]),_:1})],64)}}};export{kt as default};
