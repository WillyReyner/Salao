import{T as E,h as m,o as U,f as C,a as o,u as t,w as u,F as S,Z as N,b as s,i as f,v as p,j as F,d as g,O,N as x}from"./app-4ab3c1a7.js";import{_ as w}from"./InputError-8e97e87c.js";import{_ as d}from"./InputLabel-e21345d2.js";import{_ as A}from"./AuthenticatedLayout-0a5f0791.js";import{I as _}from"./iconify-59ac6911.js";import"./ApplicationLogo-af625855.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const R={class:"tw-flex tw-flex-1 tw-flex-col"},T={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-y-scroll"},j=s("div",{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},[s("h4",{class:"tw-font-title tw-font-semibold"},"Atualizar Unidade")],-1),I=s("div",{class:"tw-flex md:tw-flex-row tw-flex-col md: tw-gap-2 tw-m-2"},[s("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4"},"INFORMAÇÕES BÁSICAS")],-1),B={class:"tw-flex md:tw-flex-row tw-flex-col md: tw-gap-2 tw-m-2"},$={class:"tw-flex tw-flex-1 tw-flex-col"},L={class:"tw-flex tw-flex-1 tw-flex-col"},M={class:"tw-flex tw-flex-1 tw-flex-col"},z={class:"tw-flex md:tw-flex-row tw-flex-col md: tw-gap-2 tw-m-2"},D={class:"tw-flex tw-flex-1 tw-flex-col"},G={class:"tw-flex tw-flex-1 tw-flex-col"},J={class:"tw-flex tw-flex-1 tw-flex-col"},Z={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-2 tw-m-2 tw-pb-4"},H={class:"tw-flex tw-flex-1 tw-flex-col"},K={class:"tw-flex tw-flex-1 tw-flex-col"},P={class:"tw-flex tw-justify-end tw-gap-2"},le={__name:"Editar",props:{escola:{type:Object,default:{}},municipios:{type:Array,default:[]},usuarios:{type:Array,default:[]}},setup(b){const i=b,e=E({id:i.escola.id,nome:i.escola.nome,situacao:i.escola.situacao,rede:i.escola.rede,ficha:i.escola.ficha,endereco_completo:i.escola.endereco_completo,contato:i.escola.contato,municipio_id:i.escola.municipio_id,user_id:i.escola.responsaveis.map(r=>({label:r.user.name,value:r.user.id}))});console.log("USERS",e.user_id);const v=["COTEC","EFG","GOIAS TEC","JUVENTUDE"],h=["Ativo","Bloqueado","Inativo"],y=i.usuarios.map(r=>({label:r.name,value:r.id})),V=i.municipios.map(r=>({label:r.nome,value:r.id}));function q(){const r={name:"Nome da Escola",rede:"Rede",ficha:"Ficha",endereco_completo:"Endereço Completo",contato:"Contato",user_id:"Responsável pela Escola",municipio_id:"Município"};Object.keys(r).forEach(n=>{e[n]?e.errors[n]=null:e.errors[n]=`O campo ${r[n]} é obrigatório`})}function k(){q(),O.post(route("painel.escolas.update",e.id),{_method:"patch",...e},{preserveScroll:!0,onSuccess:r=>{e.reset(),x.create({message:"Dados da unidade/escolas foram atualizados com sucesso.",color:"secondary"})},onError:r=>{x.create({message:"Não foi possível atualizar os dados da unidade/escola.",color:"negative"})}})}return(r,l)=>{const n=m("q-input"),c=m("q-select");return U(),C(S,null,[o(t(N),{title:"Unidades"}),o(A,null,{default:u(()=>[s("div",R,[s("div",T,[j,I,s("div",B,[s("div",$,[o(d,{for:"nome",value:"Nome",required:""}),o(n,{outlined:"",id:"nome",type:"text",required:"",autofocus:"",autocomplete:"nome",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",modelValue:t(e).nome,"onUpdate:modelValue":l[0]||(l[0]=a=>t(e).nome=a)},null,8,["modelValue"]),o(w,{class:"tw-mt-2",message:t(e).errors.nome},null,8,["message"])]),s("div",L,[o(d,{for:"situacao",value:"Situação",required:""}),o(c,{outlined:"",options:h,modelValue:t(e).situacao,"onUpdate:modelValue":l[1]||(l[1]=a=>t(e).situacao=a),id:"situacao",class:"tw-mt-1 tw-text-gray-700 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),o(w,{class:"tw-mt-2",message:t(e).errors.situacao},null,8,["message"])]),s("div",M,[o(d,{for:"rede",value:"Rede",required:""}),o(c,{outlined:"",options:v,modelValue:t(e).rede,"onUpdate:modelValue":l[2]||(l[2]=a=>t(e).rede=a),id:"rede",class:"tw-mt-1 tw-text-gray-700 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),o(w,{class:"tw-mt-2",message:t(e).errors.rede},null,8,["message"])])]),s("div",z,[s("div",D,[o(d,{for:"municipio_id",value:"Municipio",required:""}),o(c,{outlined:"","stack-label":"","map-options":"","emit-value":"",options:t(V),modelValue:t(e).municipio_id,"onUpdate:modelValue":l[3]||(l[3]=a=>t(e).municipio_id=a),id:"municipio_id",class:"tw-mt-1 tw-text-gray-700 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["options","modelValue"]),o(w,{class:"tw-mt-2",message:t(e).errors.municipio_id},null,8,["message"])]),s("div",G,[o(d,{for:"contato",value:"Contato",required:""}),f(s("input",{id:"contato",type:"text",required:"",autofocus:"",autocomplete:"contato",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm","onUpdate:modelValue":l[4]||(l[4]=a=>t(e).contato=a)},null,512),[[p,t(e).contato]]),o(w,{class:"tw-mt-2",message:t(e).errors.contato},null,8,["message"])]),s("div",J,[o(d,{for:"ficha",value:"Ficha",required:""}),f(s("input",{id:"ficha",type:"text",required:"",autofocus:"",autocomplete:"ficha",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm","onUpdate:modelValue":l[5]||(l[5]=a=>t(e).ficha=a)},null,512),[[p,t(e).ficha]]),o(w,{class:"tw-mt-2",message:t(e).errors.ficha},null,8,["message"])])]),s("div",Z,[s("div",H,[o(d,{for:"user_id",value:"Responsáveis",required:""}),o(c,{name:"user_id","use-chips":"",outlined:"",multiple:"","stack-label":"","map-options":"",options:t(y),modelValue:t(e).user_id,"onUpdate:modelValue":l[6]||(l[6]=a=>t(e).user_id=a),class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},{prepend:u(()=>[o(t(_),{icon:"ph:chalkboard-teacher-light"})]),_:1},8,["options","modelValue"]),o(w,{class:"tw-mt-2",message:t(e).errors.user_id},null,8,["message"])]),s("div",K,[o(d,{for:"endereco_completo",value:"Endereço Completo",required:""}),o(n,{outlined:"",id:"endereco_completo",type:"text",required:"",autofocus:"",autocomplete:"endereco_completo",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",modelValue:t(e).endereco_completo,"onUpdate:modelValue":l[7]||(l[7]=a=>t(e).endereco_completo=a)},null,8,["modelValue"]),o(w,{class:"tw-mt-2",message:t(e).errors.endereco_completo},null,8,["message"])])]),s("div",P,[o(t(F),{href:r.route("painel.escolas"),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},{default:u(()=>[g(" VOLTAR ")]),_:1},8,["href"]),s("span",{onClick:l[8]||(l[8]=a=>k()),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-border-transparent tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-white tw-bg-green-500 tw-items-center"},[o(t(_),{icon:"fluent:save-16-regular",class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2"}),g(" Salvar ")])])])])]),_:1})],64)}}};export{le as default};
