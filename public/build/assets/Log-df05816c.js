import{_ as N}from"./AuthenticatedLayout-0a5f0791.js";import{k as V,h as w,o as e,f as a,a as i,u,w as n,F as c,Z as A,b as s,t as r,p as f,j as D,d as b,c as h,g as v}from"./app-4ab3c1a7.js";import{f as O}from"./Formats-904011bb.js";import"./iconify-59ac6911.js";import"./ApplicationLogo-af625855.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const $={class:"tw-flex tw-flex-1 tw-flex-col"},E={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4"},P={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},S={class:"tw-font-title tw-font-semibold"},F={class:"tw-antialiased tw-font-body"},H={class:"tw-py-4 tw-overflow-x-auto"},R={class:"tw-flex tw-flex-1 tw-flex-col tw-overflow-hidden"},T={class:"tw-font-title tw-text-gray-600 tw-text-lg"},U={key:0},M={key:1},Z={key:2},z={key:3},G={key:0},I={class:"tw-flex tw-justify-end tw-gap-2"},et={__name:"Log",props:{tipoArquivo:{type:Object,default:{}},logs:{type:Object,default:[]}},setup(p){const y=[{name:"date",align:"center",label:"Data e Horário",field:"created_at",sortable:!0},{name:"user",align:"center",label:"Usuário",field:"causer",sortable:!0},{name:"event",align:"center",label:"Ação",field:"event",sortable:!0},{name:"properties",align:"left",label:"Descrição",field:"properties",sortable:!1}],x={nome:"Nome"},q={created:"Criação",updated:"Edição",deleted:"Exclusão"},_=V({sortBy:"desc",descending:!1,page:1,rowsPerPage:10});return(k,m)=>{const j=w("q-th"),g=w("q-tr"),B=w("q-td"),C=w("q-table");return e(),a(c,null,[i(u(A),{title:"Municípios"}),i(N,null,{default:n(()=>[s("div",$,[s("div",E,[s("div",P,[s("h4",S,"Histórico do tipo de arquivo "+r(p.tipoArquivo.nome),1)]),s("div",F,[s("div",H,[s("div",R,[i(C,{flat:"",columns:y,rows:p.logs,"row-key":"id","no-data-label":"Sem dados de log","rows-per-page-label":"Registros por página",pagination:_.value,"onUpdate:pagination":m[0]||(m[0]=t=>_.value=t),"pagination-label":(t,o,l)=>`${t} à ${o} de ${l} registros`},{header:n(t=>[i(g,{props:t,class:"tw-h-20"},{default:n(()=>[(e(!0),a(c,null,f(t.cols,o=>(e(),h(j,{key:o.name,props:t},{default:n(()=>[s("span",T,r(o.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:n(t=>[i(g,{props:t,"no-hover":"",class:"roundful tw-overflow-hidden tw-rounded-lg hover:tw-bg-green-100 tw-h-20 tw-transition-colors"},{default:n(()=>[(e(!0),a(c,null,f(t.cols,o=>(e(),h(B,{key:o.name,props:t},{default:n(()=>{var l;return[b(r(o.name)+" ",1),o.name=="date"?(e(),a("div",U,r(u(O)(t.row.created_at)),1)):o.name=="user"?(e(),a("div",M,r(((l=t.row.causer)==null?void 0:l.name)??"Sistema"),1)):o.name=="event"?(e(),a("div",Z,r(q[t.row.event]||"Outra ação"),1)):o.name=="properties"?(e(),a("div",z,[(e(!0),a(c,null,f(t.row.properties.attributes,(L,d)=>(e(),a("div",null,[d!="created_by"&&d!="updated_by"?(e(),a("div",G,r(x[d]||d)+": "+r(L),1)):v("",!0)]))),256))])):v("",!0)]}),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","pagination","pagination-label"])])])]),s("div",I,[i(u(D),{href:k.route("painel.documento"),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},{default:n(()=>[b(" VOLTAR ")]),_:1},8,["href"])])])])]),_:1})],64)}}};export{et as default};
