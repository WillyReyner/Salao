import{a3 as H,a4 as O,a5 as z,a6 as F,a7 as U,a8 as $,a9 as q,F as G,aa as K,ab as W,ac as J,ad as L,U as Q,ae as X,af as Y,C as Z,ag as ee,ah as ae,ai as te,aj as se,ak as ne,al as re,am as oe,an as ie,$ as ce,ao as le,m as de,ap as ue,c as fe,g as ve,f as me,b as he,aq as pe,ar as be,as as ge,at as ye,au as we,a1 as Ce,d as Se,a as Ee,av as xe,aw as Te,A as _e,ax as Re,ay as ke,az as De,aA as Me,aB as Ve,aC as Be,aD as Ne,aE as Ae,aF as Ie,aG as Pe,aH as je,aI as He,aJ as Oe,aK as ze,aL as Fe,B as Ue,aM as $e,aN as qe,aO as Ge,aP as Ke,aQ as We,a0 as Je,aR as Le,aS as Qe,aT as Xe,aU as Ye,aV as Ze,aW as ea,aX as aa,aY as ta,aZ as sa,a_ as na,a$ as ra,S as oa,Y as ia,n as ca,b0 as la,s as da,b1 as ua,b2 as fa,b3 as va,b4 as ma,b5 as ha,b6 as pa,l as ba,b7 as ga,b8 as ya,b9 as wa,ba as Ca,_ as Sa,bb as Ea,o as xa,E as Ta,X as _a,bc as Ra,D as ka,bd as Da,W as Ma,be as Va,k as Ba,bf as Na,bg as Aa,q as Ia,r as Pa,h as ja,J as Ha,bh as Oa,bi as za,bj as Fa,bk as Ua,bl as $a,bm as qa,bn as Ga,bo as Ka,bp as Wa,bq as Ja,br as La,bs as Qa,t as Xa,bt as Ya,bu as Za,bv as et,bw as at,bx as tt,by as st,bz as nt,bA as rt,u as ot,bB as it,bC as ct,bD as lt,bE as dt,bF as ut,bG as ft,bH as vt,bI as mt,bJ as ht,bK as pt,x as bt,v as gt,z as yt,bL as wt,bM as Ct,y as St,bN as Et,bO as xt,bP as Tt,bQ as _t,w as Rt,bR as kt,i as Dt,p as Mt,bS as Vt,e as Bt,bT as Nt,G as At,H as It,I as Pt}from"./app-846bdf4e.js";/**
* vue v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const jt=()=>{},Ht=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:H,BaseTransitionPropsValidators:O,Comment:z,DeprecationTypes:F,EffectScope:U,ErrorCodes:$,ErrorTypeStrings:q,Fragment:G,KeepAlive:K,ReactiveEffect:W,Static:J,Suspense:L,Teleport:Q,Text:X,TrackOpTypes:Y,Transition:Z,TransitionGroup:ee,TriggerOpTypes:ae,VueElement:te,assertNumber:se,callWithAsyncErrorHandling:ne,callWithErrorHandling:re,camelize:oe,capitalize:ie,cloneVNode:ce,compatUtils:le,compile:jt,computed:de,createApp:ue,createBlock:fe,createCommentVNode:ve,createElementBlock:me,createElementVNode:he,createHydrationRenderer:pe,createPropsRestProxy:be,createRenderer:ge,createSSRApp:ye,createSlots:we,createStaticVNode:Ce,createTextVNode:Se,createVNode:Ee,customRef:xe,defineAsyncComponent:Te,defineComponent:_e,defineCustomElement:Re,defineEmits:ke,defineExpose:De,defineModel:Me,defineOptions:Ve,defineProps:Be,defineSSRCustomElement:Ne,defineSlots:Ae,devtools:Ie,effect:Pe,effectScope:je,getCurrentInstance:He,getCurrentScope:Oe,getTransitionRawChildren:ze,guardReactiveProps:Fe,h:Ue,handleError:$e,hasInjectionContext:qe,hydrate:Ge,initCustomFormatter:Ke,initDirectivesForSSR:We,inject:Je,isMemoSame:Le,isProxy:Qe,isReactive:Xe,isReadonly:Ye,isRef:Ze,isRuntimeOnly:ea,isShallow:aa,isVNode:ta,markRaw:sa,mergeDefaults:na,mergeModels:ra,mergeProps:oa,nextTick:ia,normalizeClass:ca,normalizeProps:la,normalizeStyle:da,onActivated:ua,onBeforeMount:fa,onBeforeUnmount:va,onBeforeUpdate:ma,onDeactivated:ha,onErrorCaptured:pa,onMounted:ba,onRenderTracked:ga,onRenderTriggered:ya,onScopeDispose:wa,onServerPrefetch:Ca,onUnmounted:Sa,onUpdated:Ea,openBlock:xa,popScopeId:Ta,provide:_a,proxyRefs:Ra,pushScopeId:ka,queuePostFlushCb:Da,reactive:Ma,readonly:Va,ref:Ba,registerRuntimeCompiler:Na,render:Aa,renderList:Ia,renderSlot:Pa,resolveComponent:ja,resolveDirective:Ha,resolveDynamicComponent:Oa,resolveFilter:za,resolveTransitionHooks:Fa,setBlockTracking:Ua,setDevtoolsHook:$a,setTransitionHooks:qa,shallowReactive:Ga,shallowReadonly:Ka,shallowRef:Wa,ssrContextKey:Ja,ssrUtils:La,stop:Qa,toDisplayString:Xa,toHandlerKey:Ya,toHandlers:Za,toRaw:et,toRef:at,toRefs:tt,toValue:st,transformVNodeArgs:nt,triggerRef:rt,unref:ot,useAttrs:it,useCssModule:ct,useCssVars:lt,useModel:dt,useSSRContext:ut,useSlots:ft,useTransitionState:vt,vModelCheckbox:mt,vModelDynamic:ht,vModelRadio:pt,vModelSelect:bt,vModelText:gt,vShow:yt,version:wt,warn:Ct,watch:St,watchEffect:Et,watchPostEffect:xt,watchSyncEffect:Tt,withAsyncContext:_t,withCtx:Rt,withDefaults:kt,withDirectives:Dt,withKeys:Mt,withMemo:Vt,withModifiers:Bt,withScopeId:Nt},Symbol.toStringTag,{value:"Module"}));var T={exports:{}};const Ot=At(Ht);(function(_,Ft){(function(c,m){_.exports=m(Ot)})(It,function(c){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */function m(o,u,n,r){function s(e){return e instanceof n?e:new n(function(l){l(e)})}return new(n||(n=Promise))(function(e,l){function v(d){try{a(r.next(d))}catch(p){l(p)}}function h(d){try{a(r.throw(d))}catch(p){l(p)}}function a(d){d.done?e(d.value):s(d.value).then(v,h)}a((r=r.apply(o,u||[])).next())})}function y(o,u){var n={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},r,s,e,l;return l={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function v(a){return function(d){return h([a,d])}}function h(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(e=a[0]&2?s.return:a[0]?s.throw||((e=s.return)&&e.call(s),0):s.next)&&!(e=e.call(s,a[1])).done)return e;switch(s=0,e&&(a=[a[0]&2,e.value]),a[0]){case 0:case 1:e=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,s=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(e=n.trys,!(e=e.length>0&&e[e.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!e||a[1]>e[0]&&a[1]<e[3])){n.label=a[1];break}if(a[0]===6&&n.label<e[1]){n.label=e[1],e=a;break}if(e&&n.label<e[2]){n.label=e[2],n.ops.push(a);break}e[2]&&n.ops.pop(),n.trys.pop();continue}a=u.call(o,n)}catch(d){a=[6,d],s=0}finally{r=e=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var g=c.defineComponent({name:"Camera",components:{},emits:["loading","started","stopped","paused","resumed","camera-change","snapshot","error"],props:{resolution:{type:Object,default:function(){return{width:1920,height:1080}}},facingMode:{type:String,default:"environment"},autoplay:{type:Boolean,default:!0},playsinline:{type:Boolean,default:!0},constraints:{type:Object,required:!1}},setup:function(o,u){var n=this,r=u.emit;c.onMounted(function(){if(!navigator.mediaDevices)throw new Error("Media devices not available");var t=document.getElementById("video");o.playsinline&&t&&t.setAttribute("playsinline",""),o.autoplay&&d()}),c.onUnmounted(function(){return w()});var s=c.ref(),e=c.ref(),l=c.ref(),v=o.constraints||{video:{width:o.resolution.width,height:o.resolution.height,facingMode:o.facingMode,deviceId:{}},audio:!1},h=function(t){return t===void 0&&(t=["audioinput","videoinput"]),m(n,void 0,void 0,function(){var i;return y(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:return i=f.sent(),[2,i.filter(function(b){return t.includes(b.kind)})]}})})},a=function(){if(l.value){var t=l.value.getVideoTracks().map(function(i){return i.getSettings().deviceId});if(t.length>0)return t[0]}},d=function(){return m(n,void 0,void 0,function(){var t,i;return y(this,function(f){switch(f.label){case 0:r("loading"),f.label=1;case 1:return f.trys.push([1,3,,4]),t=l,[4,navigator.mediaDevices.getUserMedia(v)];case 2:if(t.value=f.sent(),!s.value)throw new Error("Video ref is null");return s.value.srcObject=l.value,r("started"),[3,4];case 3:return i=f.sent(),r("error",i),[3,4];case 4:return[2]}})})},p=function(t,i,f){var b;if(t===void 0&&(t=o.resolution),i===void 0&&(i="image/png"),!s.value)throw new Error("Video ref is null");if(!e.value)throw new Error("Canvas ref is null");var S=t.width,E=t.height;return e.value.width=S,e.value.height=E,(b=e.value.getContext("2d"))===null||b===void 0||b.drawImage(s.value,0,0,S,E),new Promise(function(j){var C;(C=e.value)===null||C===void 0||C.toBlob(function(x){r("snapshot",x),j(x)},i,f)})},A=function(t){return m(n,void 0,void 0,function(){return y(this,function(i){switch(i.label){case 0:return w(),v.video.deviceId.exact=t,[4,d()];case 1:return i.sent(),r("camera-change",t),[2]}})})},I=function(){var t;(t=s.value)===null||t===void 0||t.play(),r("resumed")},P=function(){var t;(t=s.value)===null||t===void 0||t.pause(),r("paused")},w=function(){var t;(t=l.value)===null||t===void 0||t.getTracks().forEach(function(i){return i.stop()}),r("stopped")};return{start:d,stop:w,video:s,snapshot:p,canvas:e,devices:h,currentDeviceID:a,pause:P,resume:I,changeCamera:A,stream:l}}});const R={id:"camera-container"},k={autoplay:"",ref:"video",id:"video"},D={id:"slot-container"},M={ref:"canvas",id:"canvas"};function V(o,u,n,r,s,e){return c.openBlock(),c.createElementBlock(c.Fragment,null,[c.createElementVNode("div",R,[c.createElementVNode("video",k,null,512),c.createElementVNode("div",D,[c.renderSlot(o.$slots,"default")])]),c.createElementVNode("canvas",M,null,512)],64)}function B(o,u){u===void 0&&(u={});var n=u.insertAt;if(!(!o||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=o:s.appendChild(document.createTextNode(o))}}var N=`
#camera-container[data-v-74104ed5] {
    position: relative;
    width: 100%;
    height: 100%;
}
#slot-container[data-v-74104ed5] {
    position: absolute;
    height: 100%;
    width: 100%;
    left: 0;
    top: 0;
}
#video[data-v-74104ed5] {
    width: 100%;
    height: 100%;
}
#canvas[data-v-74104ed5] {
    display: none;
}
`;return B(N),g.render=V,g.__scopeId="data-v-74104ed5",g.__file="src/components/Camera.vue",g})})(T);var zt=T.exports;const $t=Pt(zt);export{$t as C};
