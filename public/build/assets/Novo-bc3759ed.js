import{_ as u}from"./InputError-1b7c406d.js";import{_ as d}from"./InputLabel-427b0165.js";import{_ as $}from"./AuthenticatedLayout-0b4545fd.js";import{I as B}from"./iconify-9fabe4c1.js";import{k as b,T as L,y as N,h as _,o as j,f as R,a as o,u as t,w,F as X,Z,b as s,d as x,j as z,N as S}from"./app-846bdf4e.js";import"./ApplicationLogo-00219c91.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const G={class:"tw-flex tw-flex-1 tw-flex-col"},H={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},J=s("div",{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},[s("h4",{class:"tw-font-title tw-font-semibold"},"Adicionar Edital")],-1),K=s("div",{class:"tw-flex md:tw-flex-row tw-flex-col md: tw-gap-2 tw-m-2"},[s("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4"},"INFORMAÇÕES BÁSICAS")],-1),Q={class:"tw-flex md:tw-flex-row tw-flex-col md: tw-gap-2 tw-m-2"},W={class:"tw-flex tw-flex-col"},Y={class:"tw-flex tw-flex-auto tw-flex-col tw-mt-4"},ee={class:"tw-flex tw-flex-row"},te={class:"tw-flex tw-flex-col"},oe={class:"tw-flex tw-flex-col tw-w-[40%]"},ae={class:"tw-flex tw-flex-col tw-w-[20%]"},le={class:"tw-flex tw-flex-col tw-w-[20%]"},ie={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-2 tw-m-2"},se={class:"tw-flex tw-flex-col"},re={class:"tw-flex tw-flex-col"},de={class:"tw-flex tw-flex-col tw-w-[20%]"},ne={class:"tw-flex tw-flex-col"},ue={class:"tw-flex tw-flex-auto tw-flex-col tw-mt-4"},ce={class:"tw-flex tw-flex-row"},we={class:"tw-flex tw-flex-1 tw-flex-col"},me={class:"tw-flex tw-flex-col tw-gap-2 tw-m-2 tw-pb-4"},fe={class:"tw-flex tw-justify-end tw-gap-2"},qe={__name:"Novo",props:{escolas:{type:Array,default:[]},tiposArquivo:{type:Array,default:[]},editais:{type:Array,default:[]},turmas:{type:Array,default:[]},municipios:{type:Array,default:[]},cursos:{type:Array,default:[]},documentacao:{type:Array,default:[]},editalModelo:{type:Array,default:[]}},setup(U){const m=U,g=b(""),v=b([]),V=b([]),y=b([]),k=m.editalModelo.map(l=>({label:l.nome,value:l.id})),q=m.escolas.map(l=>({label:l.nome,value:l.id})),F=m.municipios.map(l=>({label:l.nome,value:l.id})),M=["Arte Educação","Artes Visuais","Circo","Dança","Música","Superior de Tecnologia","Teatro","Tecnologia e Inovação","Todas"],C=["Ativo","Inativo","Bloqueado"],h=m.documentacao.map(l=>({label:l.nome,value:l.id})),E=m.documentacao.map(l=>({label:l.nome,value:l.id})),e=L({nome:"",numero_edital:"",dt_publicacao:"",dt_fim_edital:"",escola_id:"",agendar_publicacao:"Nao",dt_inicio_inscricao:"",dt_fim_inscricao:"",situacao:"",municipio_id:"",udepi:"Nao",documentos_inscricao:[],documentos_matricula:[],turma_id:"",area:""});function A(l,a){if(l===""){a(()=>{v.value=q,V.value=h,y.value=E});return}a(()=>{const r=l.toLowerCase();v.value=q.filter(n=>n.label.toLowerCase().indexOf(r)>-1),V.value=h.filter(n=>n.label.toLowerCase().indexOf(r)>-1),y.value=E.filter(n=>n.label.toLowerCase().indexOf(r)>-1)})}function P(){const l={dt_publicacao:"Data de Publicação",dt_fim_edital:"Fim do Edital",numero_edital:"Número do Edital",escola_id:"Escola",documentos_inscricao:"Documentação Exigida",documentos_matricula:"Documentação para Matrícula",agendar_publicacao:"Agendar Publicação",dt_inicio_inscricao:"Início da Inscrição",dt_fim_inscricao:"Término da Inscrição",situacao:"Status",municipio_id:"Município",udepi:"UDEPI"};Object.keys(l).forEach(r=>{e[r]?e.errors[r]=null:e.errors[r]=`O campo ${l[r]} é obrigatório`})}function O(){P(),e.escola_id=e.escola_id.value,e.post(route("painel.editais.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:l=>{e.reset(),S.create({message:"Edital registrado com sucesso.",color:"secondary"})},onError:l=>{console.log(l),S.create({message:"Não foi possível registrar o Edital.",color:"negative"})}})}N(()=>e.udepi,l=>{l!=="Sim"&&g.value!==null&&(e.municipio_id=g.value)}),N(()=>[e.dt_publicacao,e.dt_fim_edital,e.dt_inicio_inscricao,e.dt_fim_inscricao],([l,a,r,n])=>{const c=new Date,f=new Date(l),p=new Date(a),i=new Date(r),D=new Date(n);p<f?e.errors.dt_fim_edital="A data de término do edital não pode ser menor do que a data de Publicação.":e.errors.dt_fim_edital="",f>p?e.errors.dt_publicacao="A data de Publicação não pode ser maior do que a data do Fim do Edital.":e.errors.dt_publicacao="",D<i?e.errors.dt_fim_inscricao="A data de Fim da Inscrição não pode ser menor do que a data de Iníco da Inscrição.":e.errors.dt_fim_inscricao="",i>D?e.errors.dt_inicio_inscricao="A data de Inicio de Inscrição não pode ser maior do que a data do Fim do Inscrição.":e.errors.dt_inicio_inscricao="",f<=c&&c<=p?e.situacao="Ativo":e.situacao="Inativo"});function T(){var l;e.escola_id!==null?e.municipio_id=(l=m.escolas.find(a=>a.id===e.escola_id.value))==null?void 0:l.municipio_id:e.municipio_id=null}function I(l){l==="Sim"?g.value=e.municipio_id:l==="Nao"&&(e.municipio_id=g.value)}return(l,a)=>{const r=_("q-input"),n=_("q-radio"),c=_("q-select"),f=_("q-item-section"),p=_("q-item");return j(),R(X,null,[o(t(Z),{title:"Editais"}),o($,null,{default:w(()=>[s("div",G,[s("div",H,[J,K,s("div",Q,[s("div",W,[o(d,{for:"dt_publicacao",required:"",value:"Data de Publicação"}),o(r,{id:"dt_publicacao",modelValue:t(e).dt_publicacao,"onUpdate:modelValue":a[0]||(a[0]=i=>t(e).dt_publicacao=i),autocomplete:"dt_publicacao",autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),o(u,{message:t(e).errors.dt_publicacao,class:"tw-mt-2"},null,8,["message"]),s("div",Y,[o(d,{for:"agendar_publicacao",required:"",value:"Agendar Publicação"}),s("div",ee,[o(n,{modelValue:t(e).agendar_publicacao,"onUpdate:modelValue":a[1]||(a[1]=i=>t(e).agendar_publicacao=i),label:"Sim",val:"Sim"},null,8,["modelValue"]),o(n,{modelValue:t(e).agendar_publicacao,"onUpdate:modelValue":a[2]||(a[2]=i=>t(e).agendar_publicacao=i),label:"Não",val:"Nao"},null,8,["modelValue"])]),o(u,{message:t(e).errors.destaque,class:"tw-mt-2"},null,8,["message"])])]),s("div",te,[o(d,{for:"dt_fim_edital",required:"",value:"Fim do Edital"}),o(r,{id:"dt_fim_edital",modelValue:t(e).dt_fim_edital,"onUpdate:modelValue":a[3]||(a[3]=i=>t(e).dt_fim_edital=i),autocomplete:"dt_fim_edital",autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),o(u,{message:t(e).errors.dt_fim_edital,class:"tw-mt-2"},null,8,["message"])]),s("div",oe,[o(d,{for:"nome",required:"",value:"Nome"}),o(c,{modelValue:t(e).nome,"onUpdate:modelValue":a[4]||(a[4]=i=>t(e).nome=i),options:t(k),class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:""},null,8,["modelValue","options"]),o(u,{message:t(e).errors.nome,class:"tw-mt-2"},null,8,["message"])]),s("div",ae,[o(d,{for:"numero_edital",required:"",value:"Número do Edital"}),o(r,{modelValue:t(e).numero_edital,"onUpdate:modelValue":a[5]||(a[5]=i=>t(e).numero_edital=i),class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",mask:"###########",outlined:""},null,8,["modelValue"]),o(u,{message:t(e).errors.numero_edital,class:"tw-mt-2"},null,8,["message"])]),s("div",le,[o(d,{for:"situacao",required:"",value:"Status"}),o(c,{modelValue:t(e).situacao,"onUpdate:modelValue":a[6]||(a[6]=i=>t(e).situacao=i),options:C,class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",readonly:""},null,8,["modelValue"]),o(u,{message:t(e).errors.situacao,class:"tw-mt-2"},null,8,["message"])])]),s("div",ie,[s("div",se,[o(d,{for:"dt_inicio_inscricao",required:"",value:"Início da Inscrição"}),o(r,{id:"dt_inicio_inscricao",modelValue:t(e).dt_inicio_inscricao,"onUpdate:modelValue":a[7]||(a[7]=i=>t(e).dt_inicio_inscricao=i),autocomplete:"dt_inicio_inscricao",autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),o(u,{message:t(e).errors.dt_inicio_inscricao,class:"tw-mt-2"},null,8,["message"])]),s("div",re,[o(d,{for:"dt_fim_inscricao",required:"",value:"Término da Inscrição"}),o(r,{id:"dt_fim_inscricao",modelValue:t(e).dt_fim_inscricao,"onUpdate:modelValue":a[8]||(a[8]=i=>t(e).dt_fim_inscricao=i),autocomplete:"dt_fim_inscricao",autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),o(u,{message:t(e).errors.dt_fim_inscricao,class:"tw-mt-2"},null,8,["message"])]),s("div",de,[o(d,{for:"area",required:"",value:"Area"}),o(c,{modelValue:t(e).area,"onUpdate:modelValue":a[9]||(a[9]=i=>t(e).area=i),options:M,class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:""},null,8,["modelValue"]),o(u,{message:t(e).errors.area,class:"tw-mt-2"},null,8,["message"])]),s("div",ne,[o(d,{for:"escola_id",required:"",value:"Escolas"}),o(c,{modelValue:t(e).escola_id,"onUpdate:modelValue":[a[10]||(a[10]=i=>t(e).escola_id=i),T],options:v.value,behavior:"menu",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm","input-debounce":"0",outlined:"","use-input":"",onFilter:A},{"no-option":w(()=>[o(p,null,{default:w(()=>[o(f,{class:"text-grey"},{default:w(()=>[x(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"]),o(u,{message:t(e).errors.escola_id,class:"tw-mt-2"},null,8,["message"]),s("div",ue,[o(d,{for:"udepi",required:"",value:"UDEPI?"}),s("div",ce,[o(n,{modelValue:t(e).udepi,"onUpdate:modelValue":[a[11]||(a[11]=i=>t(e).udepi=i),a[12]||(a[12]=i=>I("Sim"))],label:"Sim",val:"Sim"},null,8,["modelValue"]),o(n,{modelValue:t(e).udepi,"onUpdate:modelValue":[a[13]||(a[13]=i=>t(e).udepi=i),a[14]||(a[14]=i=>I("Nao"))],label:"Não",val:"Nao"},null,8,["modelValue"])]),o(u,{message:t(e).errors.destaque,class:"tw-mt-2"},null,8,["message"])])]),s("div",we,[o(d,{for:"municipio_id",required:"",value:"Municipios"}),o(c,{id:"municipio_id",modelValue:t(e).municipio_id,"onUpdate:modelValue":a[15]||(a[15]=i=>t(e).municipio_id=i),options:t(F),readonly:t(e).udepi==="Nao"||t(e).udepi==="",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm","emit-value":"",label:"Selecione a Escola primeiro","map-options":"",outlined:""},null,8,["modelValue","options","readonly"]),o(u,{message:t(e).errors.municipio_id,class:"tw-mt-2"},null,8,["message"])])]),s("div",me,[o(d,{for:"documentos_matricula",required:"",value:"Documentação Para Matricula"}),o(c,{modelValue:t(e).documentos_matricula,"onUpdate:modelValue":a[16]||(a[16]=i=>t(e).documentos_matricula=i),options:y.value,behavior:"menu",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm","input-debounce":"0",multiple:"",outlined:"","use-chips":"","use-input":"",onFilter:A},{"no-option":w(()=>[o(p,null,{default:w(()=>[o(f,{class:"text-grey"},{default:w(()=>[x(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),s("div",fe,[o(t(z),{href:l.route("painel.editais"),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},{default:w(()=>[x(" CANCELAR ")]),_:1},8,["href"]),s("span",{class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-border-transparent tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-white tw-bg-green-500 tw-items-center",onClick:a[17]||(a[17]=i=>O())},[o(t(B),{class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2",icon:"fluent:save-16-regular"}),x(" PRÓXIMO ")])])])])]),_:1})],64)}}};export{qe as default};
