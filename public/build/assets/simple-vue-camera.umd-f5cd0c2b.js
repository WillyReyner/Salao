import{a2 as O,a3 as z,a4 as F,a5 as H,a6 as U,a7 as $,a8 as q,F as K,a9 as G,aa as L,ab as W,ac as J,M as Q,ad as X,ae as Y,a0 as Z,af as ee,ag as ae,ah as te,ai as se,aj as ne,ak as re,al as oe,am as ie,W as ce,an as le,m as de,ao as ue,c as fe,g as ve,f as me,b as he,ap as pe,aq as be,ar as ge,as as ye,at as we,$ as Ce,d as Se,a as Ee,au as xe,av as Re,z as Te,aw as _e,ax as ke,ay as Me,az as Ve,aA as De,aB as Be,aC as Ne,aD as Ae,aE as Ie,aF as Pe,aG as je,aH as Oe,aI as ze,aJ as Fe,aK as He,A as Ue,aL as $e,aM as qe,aN as Ke,aO as Ge,aP as Le,X as We,aQ as Je,aR as Qe,aS as Xe,aT as Ye,aU as Ze,aV as ea,aW as aa,aX as ta,aY as sa,aZ as na,a_ as ra,L as oa,U as ia,n as ca,a$ as la,q as da,b0 as ua,b1 as fa,b2 as va,b3 as ma,b4 as ha,b5 as pa,l as ba,b6 as ga,b7 as ya,b8 as wa,b9 as Ca,V as Sa,ba as Ea,o as xa,_ as Ra,S as Ta,bb as _a,Y as ka,bc as Ma,R as Va,bd as Da,k as Ba,be as Na,bf as Aa,p as Ia,r as Pa,h as ja,E as Oa,bg as za,bh as Fa,bi as Ha,bj as Ua,bk as $a,bl as qa,bm as Ka,bn as Ga,bo as La,bp as Wa,bq as Ja,br as Qa,t as Xa,bs as Ya,bt as Za,bu as et,bv as at,bw as tt,bx as st,by as nt,bz as rt,u as ot,bA as it,bB as ct,bC as lt,bD as dt,bE as ut,bF as ft,bG as vt,bH as mt,bI as ht,bJ as pt,s as bt,v as gt,y as yt,bK as wt,bL as Ct,x as St,bM as Et,bN as xt,bO as Rt,bP as Tt,w as _t,bQ as kt,i as Mt,bR as Vt,bS as Dt,e as Bt,bT as Nt,B as At,C as It,D as Pt}from"./app-4ab3c1a7.js";/**
* vue v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const jt=()=>{},Ot=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:O,BaseTransitionPropsValidators:z,Comment:F,DeprecationTypes:H,EffectScope:U,ErrorCodes:$,ErrorTypeStrings:q,Fragment:K,KeepAlive:G,ReactiveEffect:L,Static:W,Suspense:J,Teleport:Q,Text:X,TrackOpTypes:Y,Transition:Z,TransitionGroup:ee,TriggerOpTypes:ae,VueElement:te,assertNumber:se,callWithAsyncErrorHandling:ne,callWithErrorHandling:re,camelize:oe,capitalize:ie,cloneVNode:ce,compatUtils:le,compile:jt,computed:de,createApp:ue,createBlock:fe,createCommentVNode:ve,createElementBlock:me,createElementVNode:he,createHydrationRenderer:pe,createPropsRestProxy:be,createRenderer:ge,createSSRApp:ye,createSlots:we,createStaticVNode:Ce,createTextVNode:Se,createVNode:Ee,customRef:xe,defineAsyncComponent:Re,defineComponent:Te,defineCustomElement:_e,defineEmits:ke,defineExpose:Me,defineModel:Ve,defineOptions:De,defineProps:Be,defineSSRCustomElement:Ne,defineSlots:Ae,devtools:Ie,effect:Pe,effectScope:je,getCurrentInstance:Oe,getCurrentScope:ze,getTransitionRawChildren:Fe,guardReactiveProps:He,h:Ue,handleError:$e,hasInjectionContext:qe,hydrate:Ke,initCustomFormatter:Ge,initDirectivesForSSR:Le,inject:We,isMemoSame:Je,isProxy:Qe,isReactive:Xe,isReadonly:Ye,isRef:Ze,isRuntimeOnly:ea,isShallow:aa,isVNode:ta,markRaw:sa,mergeDefaults:na,mergeModels:ra,mergeProps:oa,nextTick:ia,normalizeClass:ca,normalizeProps:la,normalizeStyle:da,onActivated:ua,onBeforeMount:fa,onBeforeUnmount:va,onBeforeUpdate:ma,onDeactivated:ha,onErrorCaptured:pa,onMounted:ba,onRenderTracked:ga,onRenderTriggered:ya,onScopeDispose:wa,onServerPrefetch:Ca,onUnmounted:Sa,onUpdated:Ea,openBlock:xa,popScopeId:Ra,provide:Ta,proxyRefs:_a,pushScopeId:ka,queuePostFlushCb:Ma,reactive:Va,readonly:Da,ref:Ba,registerRuntimeCompiler:Na,render:Aa,renderList:Ia,renderSlot:Pa,resolveComponent:ja,resolveDirective:Oa,resolveDynamicComponent:za,resolveFilter:Fa,resolveTransitionHooks:Ha,setBlockTracking:Ua,setDevtoolsHook:$a,setTransitionHooks:qa,shallowReactive:Ka,shallowReadonly:Ga,shallowRef:La,ssrContextKey:Wa,ssrUtils:Ja,stop:Qa,toDisplayString:Xa,toHandlerKey:Ya,toHandlers:Za,toRaw:et,toRef:at,toRefs:tt,toValue:st,transformVNodeArgs:nt,triggerRef:rt,unref:ot,useAttrs:it,useCssModule:ct,useCssVars:lt,useModel:dt,useSSRContext:ut,useSlots:ft,useTransitionState:vt,vModelCheckbox:mt,vModelDynamic:ht,vModelRadio:pt,vModelSelect:bt,vModelText:gt,vShow:yt,version:wt,warn:Ct,watch:St,watchEffect:Et,watchPostEffect:xt,watchSyncEffect:Rt,withAsyncContext:Tt,withCtx:_t,withDefaults:kt,withDirectives:Mt,withKeys:Vt,withMemo:Dt,withModifiers:Bt,withScopeId:Nt},Symbol.toStringTag,{value:"Module"}));var R={exports:{}};const zt=At(Ot);(function(T,Ht){(function(c,m){T.exports=m(zt)})(It,function(c){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */function m(o,u,n,r){function s(e){return e instanceof n?e:new n(function(l){l(e)})}return new(n||(n=Promise))(function(e,l){function v(d){try{a(r.next(d))}catch(p){l(p)}}function h(d){try{a(r.throw(d))}catch(p){l(p)}}function a(d){d.done?e(d.value):s(d.value).then(v,h)}a((r=r.apply(o,u||[])).next())})}function y(o,u){var n={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},r,s,e,l;return l={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function v(a){return function(d){return h([a,d])}}function h(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(e=a[0]&2?s.return:a[0]?s.throw||((e=s.return)&&e.call(s),0):s.next)&&!(e=e.call(s,a[1])).done)return e;switch(s=0,e&&(a=[a[0]&2,e.value]),a[0]){case 0:case 1:e=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,s=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(e=n.trys,!(e=e.length>0&&e[e.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!e||a[1]>e[0]&&a[1]<e[3])){n.label=a[1];break}if(a[0]===6&&n.label<e[1]){n.label=e[1],e=a;break}if(e&&n.label<e[2]){n.label=e[2],n.ops.push(a);break}e[2]&&n.ops.pop(),n.trys.pop();continue}a=u.call(o,n)}catch(d){a=[6,d],s=0}finally{r=e=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var g=c.defineComponent({name:"Camera",components:{},emits:["loading","started","stopped","paused","resumed","camera-change","snapshot","error"],props:{resolution:{type:Object,default:function(){return{width:1920,height:1080}}},facingMode:{type:String,default:"environment"},autoplay:{type:Boolean,default:!0},playsinline:{type:Boolean,default:!0},constraints:{type:Object,required:!1}},setup:function(o,u){var n=this,r=u.emit;c.onMounted(function(){if(!navigator.mediaDevices)throw new Error("Media devices not available");var t=document.getElementById("video");o.playsinline&&t&&t.setAttribute("playsinline",""),o.autoplay&&d()}),c.onUnmounted(function(){return w()});var s=c.ref(),e=c.ref(),l=c.ref(),v=o.constraints||{video:{width:o.resolution.width,height:o.resolution.height,facingMode:o.facingMode,deviceId:{}},audio:!1},h=function(t){return t===void 0&&(t=["audioinput","videoinput"]),m(n,void 0,void 0,function(){var i;return y(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:return i=f.sent(),[2,i.filter(function(b){return t.includes(b.kind)})]}})})},a=function(){if(l.value){var t=l.value.getVideoTracks().map(function(i){return i.getSettings().deviceId});if(t.length>0)return t[0]}},d=function(){return m(n,void 0,void 0,function(){var t,i;return y(this,function(f){switch(f.label){case 0:r("loading"),f.label=1;case 1:return f.trys.push([1,3,,4]),t=l,[4,navigator.mediaDevices.getUserMedia(v)];case 2:if(t.value=f.sent(),!s.value)throw new Error("Video ref is null");return s.value.srcObject=l.value,r("started"),[3,4];case 3:return i=f.sent(),r("error",i),[3,4];case 4:return[2]}})})},p=function(t,i,f){var b;if(t===void 0&&(t=o.resolution),i===void 0&&(i="image/png"),!s.value)throw new Error("Video ref is null");if(!e.value)throw new Error("Canvas ref is null");var S=t.width,E=t.height;return e.value.width=S,e.value.height=E,(b=e.value.getContext("2d"))===null||b===void 0||b.drawImage(s.value,0,0,S,E),new Promise(function(j){var C;(C=e.value)===null||C===void 0||C.toBlob(function(x){r("snapshot",x),j(x)},i,f)})},A=function(t){return m(n,void 0,void 0,function(){return y(this,function(i){switch(i.label){case 0:return w(),v.video.deviceId.exact=t,[4,d()];case 1:return i.sent(),r("camera-change",t),[2]}})})},I=function(){var t;(t=s.value)===null||t===void 0||t.play(),r("resumed")},P=function(){var t;(t=s.value)===null||t===void 0||t.pause(),r("paused")},w=function(){var t;(t=l.value)===null||t===void 0||t.getTracks().forEach(function(i){return i.stop()}),r("stopped")};return{start:d,stop:w,video:s,snapshot:p,canvas:e,devices:h,currentDeviceID:a,pause:P,resume:I,changeCamera:A,stream:l}}});const _={id:"camera-container"},k={autoplay:"",ref:"video",id:"video"},M={id:"slot-container"},V={ref:"canvas",id:"canvas"};function D(o,u,n,r,s,e){return c.openBlock(),c.createElementBlock(c.Fragment,null,[c.createElementVNode("div",_,[c.createElementVNode("video",k,null,512),c.createElementVNode("div",M,[c.renderSlot(o.$slots,"default")])]),c.createElementVNode("canvas",V,null,512)],64)}function B(o,u){u===void 0&&(u={});var n=u.insertAt;if(!(!o||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=o:s.appendChild(document.createTextNode(o))}}var N=`
#camera-container[data-v-74104ed5] {
    position: relative;
    width: 100%;
    height: 100%;
}
#slot-container[data-v-74104ed5] {
    position: absolute;
    height: 100%;
    width: 100%;
    left: 0;
    top: 0;
}
#video[data-v-74104ed5] {
    width: 100%;
    height: 100%;
}
#canvas[data-v-74104ed5] {
    display: none;
}
`;return B(N),g.render=D,g.__scopeId="data-v-74104ed5",g.__file="src/components/Camera.vue",g})})(R);var Ft=R.exports;const $t=Pt(Ft);export{$t as C};
