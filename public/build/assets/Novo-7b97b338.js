import{T as S,k as x,h as i,o as d,f as c,a as t,u as a,w,F as y,Z as K,b as s,p as M,q as V,d as m,j as Z,N as b,t as C}from"./app-846bdf4e.js";import{_ as z}from"./AuthenticatedLayout-0b4545fd.js";import{_ as G}from"./InputError-1b7c406d.js";import{_ as h}from"./InputLabel-427b0165.js";import{I as q}from"./iconify-9fabe4c1.js";import"./ApplicationLogo-00219c91.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const H={class:"tw-flex tw-flex-row tw-flex-wrap tw-gap-1"},J={class:"tw-flex tw-justify-end"},P={class:"tw-flex tw-flex-1 tw-flex-col"},Q={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4"},W=s("div",{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},[s("h4",{class:"tw-font-title tw-font-semibold"},"Adicionar Areas")],-1),X=s("div",{class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-m-2"},[s("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4"},"INFORMAÇÕES BÁSICAS")],-1),Y={class:"tw-flex md:tw-flex-col md:tw-gap-4 tw-gap-2 tw-m-2 tw-pb-4"},ee={class:"tw-flex tw-flex-1 tw-flex-col"},te={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-3"},oe={class:"tw-flex tw-gap-2 tw-justify-between"},se={class:"tw-flex tw-justify-end tw-gap-2"},ce={__name:"Novo",props:{subAreas:{type:Array,default:[]}},setup(A){const N=A,l=S({nome:"",subAreas:[]}),f=x(!1),v=x([]),p=x([]),u=x(""),k=N.subAreas.map(o=>({label:o.nome,value:o.id}));function E(){const o={nome:"Nome da Escola"};Object.keys(o).forEach(n=>{l[n]?l.errors[n]=null:l.errors[n]=`O campo ${o[n]} é obrigatório`})}const F=()=>{u.value.trim()!==""&&(p.value.push(u.value.trim()),u.value="",l.inputs=p.value)},$=o=>{p.value.splice(o,1)};function j(){E(),l.post(route("painel.areas.store"),{preserveScroll:!0,onSuccess:o=>{l.reset(),b.create({message:"Area registrada com sucesso.",color:"secondary"})},onError:o=>{console.log(o),b.create({message:"Não foi possível registrar a Area.",color:"negative"})}})}function I(o){S({id:o}).post(route("painel.areas.subareas.destroy"),{preserveScroll:!0,onSuccess:n=>{b.create({message:"Edital(is) removido(s) com sucesso.",color:"secondary"}),applyFilters()},onError:n=>{b.create({message:"Não foi possível remover esse(s) edital(is).",color:"negative"})}})}function L(o,e){if(o===""){e(()=>{v.value=k});return}e(()=>{const n=o.toLowerCase();v.value=k.filter(_=>_.label.toLowerCase().indexOf(n)>-1)})}return(o,e)=>{const n=i("q-input"),_=i("q-card-section"),T=i("q-card"),B=i("q-dialog"),O=i("q-item-section"),R=i("q-item"),U=i("q-select");return d(),c(y,null,[t(a(K),{title:"Áreas"}),t(z,null,{default:w(()=>[t(B,{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=r=>f.value=r),class:""},{default:w(()=>[t(T,{class:"tw-flex tw-flex-1 tw-p-6 tw-gap-5 tw-rounded-2xl"},{default:w(()=>[t(_,{class:"tw-flex tw-flex-1 tw-flex-col tw-gap-5 tw-border tw-border-red-500"},{default:w(()=>[s("div",null,[t(h,{for:"nome",value:"Sub-áreas",required:""}),t(n,{outlined:"",modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=r=>u.value=r),onKeydown:M(F,["enter"]),placeholder:"Digite uma tag e pressione Enter",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"])]),s("div",H,[(d(!0),c(y,null,V(A.subAreas,(r,g)=>(d(),c("div",{key:g,class:"tw-flex tw-items-center tw-gap-4 tw-text-base tw-border tw-border-green-800 tw-p-2 tw-rounded-2xl"},[m(C(r.nome)+" ",1),t(a(q),{onClick:D=>I(r.id),icon:"line-md:remove",width:"15",height:"15",class:"tw-text-green-500 tw-cursor-pointer"},null,8,["onClick"])]))),128)),(d(!0),c(y,null,V(p.value,(r,g)=>(d(),c("div",{key:g,class:"tw-flex tw-items-center tw-gap-4 tw-text-base tw-border tw-border-green-800 tw-p-2 tw-rounded-2xl"},[m(C(r)+" ",1),t(a(q),{onClick:D=>$(g),icon:"line-md:remove",width:"15",height:"15",class:"tw-text-green-500 tw-cursor-pointer"},null,8,["onClick"])]))),128))]),s("div",J,[s("span",{onClick:e[1]||(e[1]=r=>f.value=!0),class:"tw-flex tw-justify-center tw-cursor-pointer tw-text-green-800 tw-text-lg tw-border tw-border-green-700 tw-items-center tw-rounded-2xl tw-w-[30%]"}," Salvar ")])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s("div",P,[s("div",Q,[W,X,s("div",Y,[s("div",ee,[t(h,{for:"nome",value:"Nome",required:""}),t(n,{outlined:"",id:"nome",type:"text",required:"",autofocus:"",autocomplete:"nome",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",modelValue:a(l).nome,"onUpdate:modelValue":e[3]||(e[3]=r=>a(l).nome=r)},null,8,["modelValue"]),t(G,{class:"tw-mt-2",message:a(l).errors.nome},null,8,["message"])]),s("div",te,[s("div",oe,[t(h,{for:"subareas",required:"",value:"Subáreas"}),s("span",{onClick:e[4]||(e[4]=r=>f.value=!0),class:"tw-cursor-pointer tw-border tw-border-green-800 tw-px-1 tw-rounded-2xl"},"+ ")]),t(U,{modelValue:a(l).subAreas,"onUpdate:modelValue":e[5]||(e[5]=r=>a(l).subAreas=r),options:v.value,behavior:"menu",class:"tw-mt-1 tw-h-[100%] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm","input-debounce":"0",multiple:"",outlined:"","use-chips":"","use-input":"",onFilter:L},{"no-option":w(()=>[t(R,null,{default:w(()=>[t(O,{class:"text-grey"},{default:w(()=>[m(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])])]),s("div",se,[t(a(Z),{href:o.route("painel.areas"),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},{default:w(()=>[m(" CANCELAR ")]),_:1},8,["href"]),s("span",{onClick:e[6]||(e[6]=r=>j()),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-border-transparent tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-white tw-bg-green-500 tw-items-center"},[t(a(q),{icon:"fluent:save-16-regular",class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2"}),m(" Salvar ")])])])])]),_:1})],64)}}};export{ce as default};
