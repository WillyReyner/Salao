import{_ as h}from"./AuthenticatedLayout-50909e50.js";import{I as y}from"./iconify-9ec0487d.js";import{T as V,h as p,o as i,f as u,a as n,u as t,w as k,F as m,Z as q,b as s,d as N,q as f,O as U,N as x,c as _}from"./app-2933ccec.js";import"./ApplicationLogo-6533a325.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const B={class:"tw-flex tw-flex-1 tw-flex-col"},C={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},E={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},S=s("h4",{class:"tw-font-title tw-font-semibold"},"Controle de Usuários",-1),j={class:"tw-antialiased tw-font-sans"},A={class:"tw-container tw-mx-auto"},O={class:"tw-py-8"},z={class:"-tw-mx-4 sm:-tw-mx-8 tw-px-4 sm:tw-px-8 tw-py-4 tw-overflow-x-auto"},F={class:"tw-inline-block tw-min-w-full tw-shadow tw-rounded-lg tw-overflow-hidden"},I={class:"tw-flex tw-flex-1 tw-flex-col tw-gap-2 lg:tw-flex-row"},T={class:"tw-py-2 tw-px-1 tw-flex tw-flex-1 tw-flex-col"},$=s("h5",null,"Grupos de Acesso:",-1),D={class:"q-gutter-sm"},G={class:"tw-py-2 tw-px-1 tw-flex tw-flex-1 tw-flex-col"},L=s("h5",null,"Permissões extras: ",-1),M={class:"q-gutter-sm"},R={__name:"Editar",props:{usuario:{type:Object,default:{}},roles:{type:Array,default:[]},permissions:{type:Array,default:[]}},setup(g){const r=g,e=V({id:r.usuario.id,name:r.usuario.name,email:r.usuario.email,password:"",roles:r.usuario.roles.map(a=>a.name)||[],permissions:r.usuario.permissions.map(a=>a.name)||[]});function v(){U.post(route("painel.gestao.usuarios.update",e.id),{_method:"patch",...e},{preserveScroll:!0,onSuccess:a=>{e.reset(),showModal.value=!1,x.create({message:"Dados do usuário atualizados com sucesso.",color:"secondary"})},onError:a=>{x.create({message:"Não foi possível atualizar os dados do usuário.",color:"negative"})}})}return(a,o)=>{const d=p("q-input"),c=p("q-checkbox");return i(),u(m,null,[n(t(q),{title:"Usuários"}),n(h,null,{default:k(()=>[s("div",B,[s("div",C,[s("div",E,[S,s("span",{onClick:o[0]||(o[0]=l=>v()),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-border-transparent tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-bg-gray-600 focus:tw-bg-gray-600 active:tw-bg-gray-600 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-white tw-bg-green-500 tw-items-center"},[n(t(y),{icon:"fluent:save-16-regular",class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2"}),N(" Salvar ")])]),s("div",j,[s("div",A,[s("div",O,[s("div",z,[s("div",F,[n(d,{outlined:"","stack-label":"",modelValue:t(e).name,"onUpdate:modelValue":o[1]||(o[1]=l=>t(e).name=l),label:"Nome","error-message":t(e).errors.name,error:!!t(e).errors.name},null,8,["modelValue","error-message","error"]),s("div",I,[n(d,{class:"tw-flex tw-flex-1",outlined:"","stack-label":"",modelValue:t(e).email,"onUpdate:modelValue":o[2]||(o[2]=l=>t(e).email=l),label:"Email","error-message":t(e).errors.email,error:!!t(e).errors.email},null,8,["modelValue","error-message","error"]),n(d,{class:"tw-flex tw-flex-1",outlined:"",type:"password","stack-label":"",modelValue:t(e).password,"onUpdate:modelValue":o[3]||(o[3]=l=>t(e).password=l),label:"Senha","error-message":t(e).errors.password,error:!!t(e).errors.password},null,8,["modelValue","error-message","error"])]),s("div",T,[$,s("div",D,[(i(!0),u(m,null,f(r.roles,(l,b)=>(i(),_(c,{"indeterminate-value":!1,modelValue:t(e).roles,"onUpdate:modelValue":o[4]||(o[4]=w=>t(e).roles=w),val:l.name,label:l.name,color:"teal"},null,8,["modelValue","val","label"]))),256))])]),s("div",G,[L,s("div",M,[(i(!0),u(m,null,f(r.permissions,(l,b)=>(i(),_(c,{"indeterminate-value":!1,modelValue:t(e).permissions,"onUpdate:modelValue":o[5]||(o[5]=w=>t(e).permissions=w),val:l.name,label:l.name,color:"teal"},null,8,["modelValue","val","label"]))),256))])])])])])])])])])]),_:1})],64)}}};export{R as default};
