import{_ as w}from"./InputError-ea1ea5ca.js";import{_ as c}from"./InputLabel-a20d7587.js";import{_ as V}from"./PrimaryButton-02c02623.js";import{_ as I}from"./AuthenticatedLayout-50909e50.js";import{_ as q,a as A}from"./DocumentInEdital-6b91a177.js";import{I as g}from"./iconify-9ec0487d.js";import{k as n,T as D,y as x,h as b,o as S,f as k,a as e,u as i,w as m,F as N,Z as U,b as a,d as f,j as F,O,N as y}from"./app-2933ccec.js";import"./ApplicationLogo-6533a325.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-63df1496.js";const j={class:"tw-flex tw-flex-1 tw-flex-col"},C={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},T=a("div",{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},[a("h4",{class:"tw-font-title tw-font-semibold"}," Alterar Edital ")],-1),$=a("div",{class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-m-2"},[a("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4",style:{"border-bottom":"2px solid #ccc"}}," INFORMAÇÕES BÁSICAS ")],-1),R={class:"tw-flex tw-flex-row tw-gap-2 tw-m-2"},B={class:"tw-flex tw-flex-col tw-w-[100%]"},M={class:"tw-flex tw-flex-col tw-w-[100%]"},P={class:"tw-flex tw-flex-col tw-w-[100%]"},L={class:"tw-flex tw-flex-col tw-w-[100%]"},z={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-2 tw-m-2"},Q={class:"tw-flex tw-flex-col tw-w-[50%]"},X={class:"tw-flex tw-flex-col tw-w-[25%]"},Z={class:"tw-flex tw-flex-col tw-w-[25%]"},G=a("div",{class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-m-2"},[a("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4",style:{"border-bottom":"2px solid #ccc"}}," ANEXAR ARQUIVOS ")],-1),H={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},J=a("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4"}," VINCULE AS TURMAS DO EDITAL ",-1),K={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items"},W=["href"],Y={class:"tw-flex tw-justify-end tw-gap-2 tw-pt-4"},nt={__name:"Editar",props:{staiEditais:{type:Object,default:{}}},setup(E){const o=E;n(""),n(""),n(null);const _=n(null);n([]),n([]),n([]);const p=["Ativo","Inativo","Bloqueado"],t=D({id:o.staiEditais.id,nome:o.staiEditais.nome,dt_publicacao:o.staiEditais.dt_publicacao?o.staiEditais.dt_publicacao.split(" ")[0]:"",dt_fim_staiEditais:o.staiEditais.dt_fim_staiEditais?o.staiEditais.dt_fim_staiEditais.split(" ")[0]:"",numero_staiEditais:o.staiEditais.numero_staiEditais,escola_id:o.staiEditais.escola_id?o.staiEditais.escola.nome:"",agendar_publicacao:o.staiEditais.agendar_publicacao,dt_inicio_inscricao:o.staiEditais.dt_inicio_inscricao?o.staiEditais.dt_inicio_inscricao.split(" ")[0]:"",dt_fim_inscricao:o.staiEditais.dt_fim_inscricao?o.staiEditais.dt_fim_inscricao.split(" ")[0]:"",situacao:o.staiEditais.situacao,municipio_id:o.staiEditais.municipio_id,udepi:o.staiEditais.udepi,tipo:o.staiEditais.tipo});function v(){const r={dt_publicacao:"Data de Publicação",dt_fim_edital:"Fim do Edital",numero_edital:"Número do Edital",escola_id:"Escola",documentos_inscricao:"Documentação Exigida",documentos_matricula:"Documentação para Matrícula",agendar_publicacao:"Agendar Publicação",dt_inicio_inscricao:"Início da Inscrição",dt_fim_inscricao:"Término da Inscrição",situacao:"Status",municipio_id:"Município",udepi:"UDEPI",tipo:"Tipo de Edital"};Object.keys(r).forEach(d=>{t[d]?t.errors[d]=null:t.errors[d]=`O campo ${r[d]} é obrigatório`})}function h(){v(),t.escola_id=o.edital.escola.id,O.post(route("painel.editais.update",t.id),{_method:"patch",...t},{preserveScroll:!0,forceFormData:!0,onSuccess:r=>{t.reset(),y.create({message:"Dados do edital atualizados com sucesso.",color:"secondary"})},onError:r=>{y.create({message:"Não foi possível atualizar os dados do edital.",color:"negative"})}})}return x(()=>t.udepi,r=>{r!=="Sim"&&_.value!==null&&(t.municipio_id=_.value)}),x(()=>[t.dt_publicacao,t.dt_fim_edital],([r,s])=>{const d=new Date,u=new Date(r),l=new Date(s);u<=d&&d<=l?t.situacao="Ativo":t.situacao="Inativo"}),(r,s)=>{const d=b("q-input"),u=b("q-select");return S(),k(N,null,[e(i(U),{title:"Editais"}),e(I,null,{default:m(()=>[a("div",j,[a("div",C,[T,$,a("div",R,[a("div",B,[e(c,{for:"data_publicacao",required:"",value:"Data de Publicação"}),e(d,{id:"data_publicacao",modelValue:i(t).data_publicacao,"onUpdate:modelValue":s[0]||(s[0]=l=>i(t).data_publicacao=l),autocomplete:"data_publicacao",autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),e(w,{message:i(t).errors.data_publicacao,class:"tw-mt-2"},null,8,["message"])]),a("div",M,[e(c,{for:"data_fim_edital",required:"",value:"Fim do Edital"}),e(d,{id:"data_fim_edital",modelValue:i(t).data_fim_edital,"onUpdate:modelValue":s[1]||(s[1]=l=>i(t).data_fim_edital=l),autocomplete:"data_fim_edital",autofocus:"",disabled:r.hasPermission!=="admin",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue","disabled"]),e(w,{message:i(t).errors.data_fim_edital,class:"tw-mt-2"},null,8,["message"])]),a("div",P,[e(c,{for:"dt_inicio_inscricao",required:"",value:"Início da Inscrição"}),e(d,{id:"dt_inicio_inscricao",modelValue:i(t).dt_inicio_inscricao,"onUpdate:modelValue":s[2]||(s[2]=l=>i(t).dt_inicio_inscricao=l),autocomplete:"dt_inicio_inscricao",autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),e(w,{message:i(t).errors.dt_inicio_inscricao,class:"tw-mt-2"},null,8,["message"])]),a("div",L,[e(c,{for:"dt_fim_inscricao",required:"",value:"Término da Inscrição"}),e(d,{id:"dt_fim_inscricao",modelValue:i(t).dt_fim_inscricao,"onUpdate:modelValue":s[3]||(s[3]=l=>i(t).dt_fim_inscricao=l),autocomplete:"dt_fim_inscricao",autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),e(w,{message:i(t).errors.dt_fim_inscricao,class:"tw-mt-2"},null,8,["message"])])]),a("div",z,[a("div",Q,[e(c,{for:"nome",required:"",value:"Nome"}),e(d,{modelValue:i(t).nome,"onUpdate:modelValue":s[4]||(s[4]=l=>i(t).nome=l),class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",type:"text"},null,8,["modelValue"]),e(w,{message:i(t).errors.nome,class:"tw-mt-2"},null,8,["message"])]),a("div",X,[e(c,{for:"situacao",required:"",value:"Status"}),e(u,{modelValue:i(t).situacao,"onUpdate:modelValue":s[5]||(s[5]=l=>i(t).situacao=l),options:p,class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:""},null,8,["modelValue"]),e(w,{message:i(t).errors.situacao,class:"tw-mt-2"},null,8,["message"])]),a("div",Z,[e(c,{for:"tipo",required:"",value:"Status"}),e(u,{modelValue:i(t).tipo,"onUpdate:modelValue":s[6]||(s[6]=l=>i(t).tipo=l),options:p,class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:""},null,8,["modelValue"]),e(w,{message:i(t).errors.tipo,class:"tw-mt-2"},null,8,["message"])])]),G,e(q,{documentos:o.documentos,edital_id:o.staiEditais.id},null,8,["documentos","edital_id"]),a("div",H,[J,a("div",K,[a("a",{href:r.route("painel.turmas.create"),target:"_blank"},[e(V,{class:"tw-text-white tw-bg-green-500 tw-items-center"},{default:m(()=>[e(i(g),{class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2",icon:"icon-park-outline:add"}),f(" ADICIONAR TURMA ")]),_:1})],8,W)])]),e(A,{edital_id:o.staiEditais.id,turmas:o.turmas},null,8,["edital_id","turmas"]),a("div",Y,[e(i(F),{href:r.route("painel.editais"),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},{default:m(()=>[f(" CANCELAR ")]),_:1},8,["href"]),a("span",{class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-border-transparent tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-white tw-bg-green-500 tw-items-center",onClick:s[7]||(s[7]=l=>h())},[e(i(g),{class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2",icon:"fluent:save-16-regular"}),f(" Salvar ")])])])])]),_:1})],64)}}};export{nt as default};
