import{T as ct,k as c,m as U,h as n,o as d,f as h,a as o,u as a,w as s,F as E,Z as ut,b as e,i as q,v as k,j as V,d as w,c as y,g as R,p as P,N as X,t as Z}from"./app-4ab3c1a7.js";import{_ as G}from"./PrimaryButton-0afca82d.js";import{_ as ft}from"./AuthenticatedLayout-0a5f0791.js";import{e as T}from"./index-63df1496.js";import{I as u}from"./iconify-59ac6911.js";import{_ as F}from"./InputLabel-e21345d2.js";import"./ApplicationLogo-af625855.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const mt=e("div",{class:"tw-text-xl tw-font-title tw-text-gray-800 tw-font-bold"},"Selecione as opções que deseja no filtro abaixo: ",-1),pt={class:"tw-flex tw-flex-1 tw-flex-row tw-gap-4"},xt={class:"tw-flex tw-flex-1 tw-flex-row tw-gap-6"},vt={class:"tw-flex tw-flex-1 tw-flex-col tw-gap-4"},_t={class:"tw-flex tw-flex-1 tw-flex-col"},gt={class:"tw-flex tw-flex-1 tw-flex-col"},bt={class:"tw-flex tw-flex-1 tw-flex-col"},ht=e("div",{class:"tw-text-xl tw-font-title tw-text-gray-800 tw-font-bold tw-text-center"}," Você tem certeza que deseja excluir o(s) registro(s) selecionado(s) definitivamente? ",-1),yt={class:"tw-flex tw-flex-1 tw-flex-row tw-mt-10"},Ct={class:"tw-flex tw-flex-1 flex-row tw-gap-4"},qt={class:"tw-flex tw-flex-1 tw-flex-col"},kt={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},Vt={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},Dt=e("h4",{class:"tw-text-gray-900 tw-font-title tw-font-semibold"},"Documentos",-1),It={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-mb-8 tw-items-center"},At={class:"tw-flex tw-flex-1 tw-flex-row tw-items-center tw-gap-2 md:tw-flex-row tw-pt-5"},Nt={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-end tw-items-center tw-gap-6 md:tw-flex-row tw-pt-5"},jt={class:"tw-flex tw-flex-1 tw-flex-row tw-gap-5 tw-justify-end tw-items-center"},Ut={class:"tw-text-gray-700 tw-cursor-pointer tw-flex tw-flex-row tw-text-lg tw-font-body tw-justify-center tw-gap-2"},Et={class:"tw-flex tw-flex-1 tw-flex-row tw-mt-1 tw-h-[52px] tw-items-center tw-border tw-px-2 tw-w-full tw-border-gray-200 focus:tw-border-gray-300 tw-leading-10 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},Rt={class:"tw-antialiased tw-font-body"},Tt={class:"tw-py-4 tw-overflow-x-auto"},Ft={class:"tw-flex tw-flex-1 tw-flex-col tw-overflow-hidden"},Lt={class:"tw-font-title tw-text-gray-600 tw-text-lg"},St={key:0},Ot={class:"tw-flex tw-flex-col tw-gap-2"},$t=["onClick"],zt={key:1,class:"tw-font-body tw-text-gray-800 tw-text-base"},Qt={__name:"Index",props:{tiposArquivo:{type:Array,default:[]}},setup(H){const D=H,L=ct({id:[],nome:"",created_at:""}),_=c(!1),g=c(!1),I=c(""),S=c({sortBy:"desc",descending:!1,page:1,rowsPerPage:10}),C=c([]),J={year:"numeric",month:"numeric",day:"numeric"};function K(){_.value=!1}const Q=[{name:"id",field:"id",label:"ID"},{name:"nome",align:"left",label:"DOCUMENTO",field:"nome",sortable:!0},{name:"created_at",field:"created_at",required:!0,label:"DATA DA CRIAÇÃO",format:r=>`${new Date(r).toLocaleString("pt-BR",J)}`,align:"left",sortable:!0},{name:"actions",label:"AÇÕES",align:"center",field:"id"}],W=["id","nome","created_at","actions"],f=c(""),m=c(""),p=c(""),A=c(D.tiposArquivo),Y=U(()=>f.value!=""),tt=U(()=>m.value!=""),et=U(()=>p.value!="");function b(){const r=p.value!=""?D.tiposArquivo.filter(x=>x.created_at.split("T")[0]==p.value):D.tiposArquivo,l=f.value!=""?r.filter(x=>x.id==f.value):r,v=m.value!=""?l.filter(x=>x.nome.toLowerCase().includes(m.value.toLowerCase())):l;A.value=v,_.value=!1}function ot(){p.value="",b()}function lt(){f.value="",b()}function st(){m.value="",b()}function at(){p.value="",f.value="",m.value=""}function rt(r){L.id=r.id||C.value.map(l=>l.id),L.post(route("painel.documento.destroy"),{preserveScroll:!0,onSuccess:l=>{X.create({message:"Tipo(s) de Arquivo(s) removido(s) com sucesso.",color:"secondary"}),window.location.href="/documento",b()},onError:l=>{X.create({message:"Não foi possível remover esse(s) Tipo(s) de Arquivo(s).",color:"negative"})}}),g.value=!1}function it(r){C.value=[r],g.value=!0}return(r,l)=>{const v=n("q-card-section"),x=n("q-card-actions"),O=n("q-card"),$=n("q-dialog"),N=n("q-chip"),z=n("q-checkbox"),j=n("q-td"),nt=n("q-th"),M=n("q-tr"),wt=n("q-menu"),dt=n("q-table");return d(),h(E,null,[o(a(ut),{title:"Documentos"}),o(ft,null,{default:s(()=>[o($,{modelValue:_.value,"onUpdate:modelValue":l[3]||(l[3]=t=>_.value=t)},{default:s(()=>[o(O,{style:{"min-width":"40vw","max-width":"500px","border-radius":"20px",padding:"40px"}},{default:s(()=>[o(v,null,{default:s(()=>[mt]),_:1}),o(v,{class:"q-p-none"},{default:s(()=>[e("div",pt,[e("div",xt,[e("div",vt,[e("div",_t,[o(F,{for:"filtroID",value:"ID"}),q(e("input",{id:"filtroID","onUpdate:modelValue":l[0]||(l[0]=t=>f.value=t),class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",type:"number"},null,512),[[k,f.value]])]),e("div",gt,[o(F,{for:"filtroCriacao",value:"Data de Criação"}),q(e("input",{id:"filtroCriacao","onUpdate:modelValue":l[1]||(l[1]=t=>p.value=t),class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",type:"date"},null,512),[[k,p.value]])])]),e("div",bt,[o(F,{for:"filtroNome",value:"Descrição"}),q(e("input",{id:"filtroNome","onUpdate:modelValue":l[2]||(l[2]=t=>m.value=t),class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",type:"text"},null,512),[[k,m.value]])])])]),e("div",{class:"tw-flex tw-flex-1 tw-flex-row tw-mt-10"},[e("div",{class:"tw-flex tw-flex-1"},[e("button",{class:"tw-flex tw-px-8 tw-py-3 tw-text-gray-700 tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-white tw-border-2 tw-border-gray-700 tw-justify-center",onClick:at}," LIMPAR FILTROS ")]),e("div",{class:"tw-flex tw-flex-1 flex-row tw-gap-4"},[e("button",{class:"tw-flex tw-flex-1 tw-py-3 tw-text-primary tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-white tw-border-2 tw-border-primary tw-justify-center",onClick:K}," CANCELAR "),e("button",{class:"tw-flex tw-flex-1 tw-py-3 tw-text-white tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-primary tw-border-2 tw-border-primary tw-justify-center",onClick:b}," APLICAR FILTROS ")])])]),_:1}),o(x,{align:"right"})]),_:1})]),_:1},8,["modelValue"]),o($,{modelValue:g.value,"onUpdate:modelValue":l[5]||(l[5]=t=>g.value=t)},{default:s(()=>[o(O,{style:{"min-width":"40vw","max-width":"380px","border-radius":"20px",padding:"50px"}},{default:s(()=>[o(v,null,{default:s(()=>[ht]),_:1}),o(v,{class:"q-p-none"},{default:s(()=>[e("div",yt,[e("div",Ct,[e("button",{class:"tw-flex tw-flex-1 tw-py-3 tw-text-primary tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-white tw-border-2 tw-border-primary tw-justify-center",onClick:l[4]||(l[4]=t=>g.value=!1)}," CANCELAR "),e("button",{class:"tw-flex tw-flex-1 tw-py-3 tw-text-white tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-primary tw-border-2 tw-border-primary tw-justify-center",onClick:rt}," EXCLUIR ")])])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e("div",qt,[e("div",kt,[e("div",Vt,[Dt,o(a(V),{href:r.route("painel.documento.create")},{default:s(()=>[o(G,{class:"tw-text-white tw-bg-green-500 tw-items-center"},{default:s(()=>[o(a(u),{class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2",icon:"icon-park-outline:add"}),w(" ADICIONAR DOCUMENTOS ")]),_:1})]),_:1},8,["href"])]),e("div",It,[e("div",At,[Y.value?(d(),y(N,{key:0,icon:a(T),clickable:"",color:"green",outline:"",size:"lg","text-color":"green",onClick:lt},{default:s(()=>[w(" ID ")]),_:1},8,["icon"])):R("",!0),tt.value?(d(),y(N,{key:1,icon:a(T),clickable:"",color:"green",outline:"",size:"lg","text-color":"green",onClick:st},{default:s(()=>[w(" Descrição ")]),_:1},8,["icon"])):R("",!0),et.value?(d(),y(N,{key:2,icon:a(T),clickable:"",color:"green",outline:"",size:"lg","text-color":"green",onClick:ot},{default:s(()=>[w(" Data de Criação ")]),_:1},8,["icon"])):R("",!0)]),e("div",Nt,[e("div",jt,[e("h5",{class:"tw-text-gray-700 tw-cursor-pointer tw-flex tw-flex-row tw-text-lg tw-font-body tw-justify-center tw-gap-2",onClick:l[6]||(l[6]=t=>_.value=!0)},[o(a(u),{class:"tw-h-6 tw-w-6",icon:"ci:filter"}),w(" Filtrar ")]),e("h5",Ut,[o(a(u),{class:"tw-h-6 tw-w-6",icon:"tabler:file-export"}),w(" Exportar CSV ")])]),e("div",Et,[o(a(u),{class:"tw-h-6 tw-w-6 tw-text-gray-600",icon:"majesticons:search-line"}),q(e("input",{id:"busca","onUpdate:modelValue":l[7]||(l[7]=t=>I.value=t),autocomplete:"busca",autofocus:"",class:"tw-appearance-none tw-border-none tw-w-full tw-text-gray-700",placeholder:"Pesquise aqui",required:"",type:"text"},null,512),[[k,I.value]])])])]),e("div",Rt,[e("div",Tt,[e("div",Ft,[o(dt,{pagination:S.value,"onUpdate:pagination":l[8]||(l[8]=t=>S.value=t),rows:A.value,"onUpdate:rows":l[9]||(l[9]=t=>A.value=t),selected:C.value,"onUpdate:selected":l[10]||(l[10]=t=>C.value=t),columns:Q,filter:I.value,"pagination-label":(t,i,B)=>`${t} à ${i} de ${B} registros`,"selected-rows-label":t=>t+" registro(s) selecionado(s)","visible-columns":W,flat:"","no-data-label":"Não há informações cadastradas.","no-results-label":"Não foi possível localizar informações com o filtro inserido.","row-key":"id","rows-per-page-label":"Registros por página",selection:"multiple","wrap-cells":""},{header:s(t=>[o(M,{props:t,class:"tw-h-20"},{default:s(()=>[o(j,{"auto-width":""},{default:s(()=>[o(z,{modelValue:t.selected,"onUpdate:modelValue":i=>t.selected=i,dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),(d(!0),h(E,null,P(t.cols,i=>(d(),y(nt,{key:i.name,props:t},{default:s(()=>[e("span",Lt,Z(i.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:s(t=>[o(M,{props:t,class:"roundful tw-overflow-hidden tw-rounded-lg hover:tw-bg-green-100 tw-h-20 tw-transition-colors","no-hover":""},{default:s(()=>[o(j,{"auto-width":""},{default:s(()=>[o(z,{modelValue:t.selected,"onUpdate:modelValue":i=>t.selected=i,dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),(d(!0),h(E,null,P(t.cols,i=>(d(),y(j,{key:i.name,props:t},{default:s(()=>[i.name==="actions"?(d(),h("div",St,[o(G,{class:"tw-text-black tw-text-lg"},{default:s(()=>[w("... "),o(wt,{"auto-close":""},{default:s(()=>[e("div",Ot,[o(a(V),{href:r.route("painel.documento.show",t.row.id),class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 z-10 tw-justify-right tw-items-center",title:"Info"},{default:s(()=>[o(a(u),{class:"tw-h-6 tw-w-6",icon:"arcticons:searchbar-ex"}),w("  Visualizar ")]),_:2},1032,["href"]),o(a(V),{href:r.route("painel.documento.editar",t.row.id),class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 z-10 tw-justify-right tw-items-center",title:"Editar"},{default:s(()=>[o(a(u),{class:"tw-h-6 tw-w-6",icon:"arcticons:simpletexteditor"}),w("  Editar ")]),_:2},1032,["href"]),o(a(V),{href:r.route("painel.documento.editar",t.row.id),class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 z-10 tw-justify-right tw-items-center",title:"Editar"},{default:s(()=>[o(a(u),{class:"tw-h-6 tw-w-6",icon:"ph:export-thin"}),w("  Exportar ")]),_:2},1032,["href"]),e("span",{class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 tw-justify-right tw-items-center",title:"Deletar",onClick:B=>it(t.row)},[o(a(u),{class:"tw-h-6 tw-w-6",icon:"arcticons:trashcan"}),w("  Excluir ")],8,$t)])]),_:2},1024)]),_:2},1024)])):(d(),h("div",zt,Z(i.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["pagination","rows","selected","filter","pagination-label","selected-rows-label"])])])])])])]),_:1})],64)}}};export{Qt as default};
