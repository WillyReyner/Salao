import{T as ut,k as u,m as R,h as c,o as i,f as _,a as e,u as w,w as s,F as k,Z as ft,b as t,i as z,v as P,p as S,d,j as L,c as q,g as D,N as G,t as j}from"./app-4ab3c1a7.js";import{_ as mt}from"./PrimaryButton-0afca82d.js";import{_ as xt}from"./AuthenticatedLayout-0a5f0791.js";import{e as E}from"./index-63df1496.js";import{I as V}from"./iconify-59ac6911.js";import{_ as X}from"./InputLabel-e21345d2.js";import"./ApplicationLogo-af625855.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const pt=t("div",{class:"tw-text-xl tw-font-title tw-text-gray-800 tw-font-bold"},"Selecione as opções que deseja no filtro abaixo: ",-1),_t={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-m-2"},vt={class:"tw-flex tw-flex-1 tw-flex-col"},gt=t("h5",{class:"tw-font-title tw-text-base tw-font-semibold tw-text-primary"},"TAGS",-1),bt={class:"tw-flex tw-flex-1 tw-flex-col"},ht={class:"tw-flex tw-flex-1 tw-flex-row tw-gap-4"},yt={class:"tw-flex tw-flex-1 tw-flex-col"},Ct=t("h5",{class:"tw-font-title tw-text-base tw-font-semibold tw-text-primary tw-mt-4"},"STATUS",-1),kt={class:"tw-flex tw-flex-row tw-gap-4 tw-mt-4"},qt={class:"tw-flex tw-flex-1 tw-flex-col"},Vt={class:"tw-font-bod tw-text-gray-600 tw-text-lg tw-font-thin tw-flex tw-flex-row tw-items-center"},St={class:"tw-flex tw-flex-1 tw-flex-col"},jt=t("h5",{class:"tw-font-title tw-text-base tw-font-semibold tw-text-primary tw-mt-4"},"TURMAS",-1),Tt={class:"tw-flex tw-flex-row tw-gap-4 tw-mt-4"},It={class:"tw-flex tw-flex-1 tw-flex-col"},At={class:"tw-font-bod tw-text-gray-600 tw-text-lg tw-font-thin tw-flex tw-flex-row tw-items-center"},Ut=t("div",{class:"tw-text-xl tw-font-title tw-text-gray-800 tw-font-bold tw-text-center"}," Você tem certeza que deseja excluir o(s) registro(s) selecionado(s) definitivamente? ",-1),Nt={class:"tw-flex tw-flex-1 tw-flex-row tw-mt-10"},Rt={class:"tw-flex tw-flex-1 flex-row tw-gap-4"},Lt={class:"tw-flex tw-flex-1 tw-flex-col"},Dt={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},Et={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},Ft=t("h4",{class:"tw-text-gray-900 tw-font-title tw-font-semibold"},"Cursos Cadastrados",-1),Mt={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items"},Bt={class:"tw-text-gray-700 tw-cursor-pointer tw-flex tw-flex-row tw-text-lg tw-font-body tw-justify-center tw-gap-2"},Ot={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-mb-8 tw-items-center"},$t={class:"tw-flex tw-flex-1 tw-flex-row tw-items-center tw-gap-2 md:tw-flex-row tw-pt-5"},zt={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-end tw-items-center tw-gap-6 md:tw-flex-row tw-pt-5"},Pt={class:"tw-flex tw-flex-1 tw-flex-row tw-gap-5 tw-justify-end tw-items-center"},Gt={class:"tw-flex tw-flex-1 tw-flex-row tw-mt-1 tw-h-[52px] tw-items-center tw-border tw-px-2 tw-w-full tw-border-gray-200 focus:tw-border-gray-300 tw-leading-10 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},Xt={class:"tw-antialiased tw-font-body"},Zt={class:"tw-py-4 tw-overflow-x-auto"},Ht={class:"tw-flex tw-flex-1 tw-flex-col tw-overflow-hidden"},Jt={class:"tw-font-title tw-text-gray-600 tw-text-lg"},Kt={key:0},Qt={class:"tw-flex tw-flex-col tw-gap-2"},Wt=["onClick"],Yt={key:1,class:"tw-font-body tw-text-gray-800 tw-text-base"},ce={__name:"Index",props:{cursos:{type:Array,default:[]}},setup(Z){const T=Z,F=ut({id:[],nome:""}),h=u(!1),y=u(!1),I=u(""),H=u({sortBy:"desc",descending:!1,page:1,rowsPerPage:10}),A=u([]);function J(){h.value=!1}const K=[{name:"id",field:"id",label:"ID"},{name:"imagem",field:"imagem",required:!0,label:"IMAGEM",align:"left",sortable:!0},{name:"nome",align:"left",label:"CURSO",field:"nome",sortable:!0},{name:"turma",align:"left",label:"TURMAS",field:"turma",sortable:!0},{name:"situacao",align:"left",label:"STATUS",field:"situacao",sortable:!0},{name:"actions",label:"AÇÕES",align:"center",field:"id"}],Q=["id","turma","imagem","nome","situacao","actions"],W=u([]),v=u([]),g=u([]),b=u([]),M=u(T.cursos),B=R(()=>v.value.lenght>0),O=R(()=>g.value.lenght>0),Y=R(()=>b.value.lenght>0),tt=["Ativo","Inativo","Bloqueado"],et=["Turmas Ativas","Turmas Inativas"];function C(){const n=b.value.length>0?n.filter(r=>n.value.includes(r.id)):n,l=chipID.value?T.cursos.filter(r=>r.id===W.value):T.cursos,f=B.value?l.filter(r=>v.value.includes(r.escola.nome)):l,x=O.value?f.filter(r=>g.value.includes(r.situacao)):f;M.value=x,h.value=!1}function ot(){v.value="",C()}function lt(){b.value="",C()}function st(){g.value="",C()}function at(){b.value=[],v.value=[],g.value=[]}function nt(n){F.id=n.id||A.value.map(l=>l.id),F.post(route("painel.cursos.destroy"),{preserveScroll:!0,onSuccess:l=>{G.create({message:"Curso(s) removido(s) com sucesso.",color:"secondary"}),window.location.href="/cursos",C()},onError:l=>{G.create({message:"Não foi possível remover esse(s) Curso(s).",color:"negative"})}}),y.value=!1}function rt(n){A.value=[n],y.value=!0}const it=()=>{const n=["ID","Turma","Vagas","Status"],l=filteredTurmas.value.map(m=>[m.id,m.nome,m.vagas,m.situacao]),f=`${n.join(",")}
${l.map(m=>m.join(",")).join(`
`)}`,x=new Blob([f],{type:"text/csv;charset=utf-8;"}),r=window.URL.createObjectURL(x),p=document.createElement("a");p.setAttribute("href",r),p.setAttribute("download","turmas.csv"),document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(r)};return(n,l)=>{const f=c("q-card-section"),x=c("q-checkbox"),r=c("q-card-actions"),p=c("q-card"),m=c("q-dialog"),U=c("q-chip"),N=c("q-td"),wt=c("q-th"),$=c("q-tr"),ct=c("q-btn-dropdown"),dt=c("q-table");return i(),_(k,null,[e(w(ft),{title:"Cursos"}),e(xt,null,{default:s(()=>[e(m,{modelValue:h.value,"onUpdate:modelValue":l[3]||(l[3]=o=>h.value=o)},{default:s(()=>[e(p,{style:{"min-width":"40vw","max-width":"500px","border-radius":"20px",padding:"40px"}},{default:s(()=>[e(f,null,{default:s(()=>[pt]),_:1}),t("div",_t,[t("div",vt,[gt,e(X),t("div",bt,[e(X,{for:"filtroNome",value:"Busque pela Tag"}),z(t("input",{id:"filtroNome",type:"text",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm","onUpdate:modelValue":l[0]||(l[0]=o=>v.value=o)},null,512),[[P,v.value]])])])]),e(f,{class:"q-p-none"},{default:s(()=>[t("div",ht,[t("div",yt,[Ct,t("div",kt,[t("div",qt,[(i(),_(k,null,S(tt,o=>t("div",Vt,[e(x,{val:o,"model-value":g.value,"onUpdate:modelValue":l[1]||(l[1]=a=>g.value=a)},null,8,["val","model-value"]),d(" "+j(o),1)])),64))])])]),t("div",St,[jt,t("div",Tt,[t("div",It,[(i(),_(k,null,S(et,o=>t("div",At,[e(x,{val:o,"model-value":b.value,"onUpdate:modelValue":l[2]||(l[2]=a=>b.value=a)},null,8,["val","model-value"]),d(" "+j(o),1)])),64))])])])]),t("div",{class:"tw-flex tw-flex-1 tw-flex-row tw-mt-10"},[t("div",{class:"tw-flex tw-flex-1"},[t("button",{onClick:J,class:"tw-flex tw-px-8 tw-py-3 tw-text-primary tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-white tw-border-2 tw-border-primary tw-justify-center"}," CANCELAR ")]),t("div",{class:"tw-flex tw-flex-1 flex-row tw-gap-4"},[t("button",{onClick:at,class:"tw-flex tw-flex-1 tw-py-3 tw-text-gray-700 tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-white tw-border-2 tw-border-gray-700 tw-justify-center"}," LIMPAR FILTROS "),t("button",{onClick:C,class:"tw-flex tw-flex-1 tw-py-3 tw-text-white tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-primary tw-border-2 tw-border-primary tw-justify-center"}," APLICAR FILTROS ")])])]),_:1}),e(r,{align:"right"})]),_:1})]),_:1},8,["modelValue"]),e(m,{modelValue:y.value,"onUpdate:modelValue":l[5]||(l[5]=o=>y.value=o)},{default:s(()=>[e(p,{style:{"min-width":"40vw","max-width":"380px","border-radius":"20px",padding:"50px"}},{default:s(()=>[e(f,null,{default:s(()=>[Ut]),_:1}),e(f,{class:"q-p-none"},{default:s(()=>[t("div",Nt,[t("div",Rt,[t("button",{onClick:l[4]||(l[4]=o=>y.value=!1),class:"tw-flex tw-flex-1 tw-py-3 tw-text-primary tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-white tw-border-2 tw-border-primary tw-justify-center"}," CANCELAR "),t("button",{onClick:nt,class:"tw-flex tw-flex-1 tw-py-3 tw-text-white tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-primary tw-border-2 tw-border-primary tw-justify-center"}," EXCLUIR ")])])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t("div",Lt,[t("div",Dt,[t("div",Et,[Ft,t("div",Mt,[t("h5",Bt,[e(w(V),{icon:"tabler:file-import",class:"tw-h-6 tw-w-6"}),d(" Importar CSV ")]),e(w(L),{href:n.route("painel.cursos.create")},{default:s(()=>[e(mt,{class:"tw-text-white tw-bg-green-500 tw-items-center"},{default:s(()=>[e(w(V),{icon:"icon-park-outline:add",class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2"}),d(" ADICIONAR CURSO ")]),_:1})]),_:1},8,["href"])])]),t("div",Ot,[t("div",$t,[B.value?(i(),q(U,{key:0,size:"lg",icon:w(E),outline:"",clickable:"",onClick:ot,color:"green","text-color":"green"},{default:s(()=>[d(" Nome ")]),_:1},8,["icon"])):D("",!0),O.value?(i(),q(U,{key:1,size:"lg",icon:w(E),outline:"",clickable:"",onClick:st,color:"green","text-color":"green"},{default:s(()=>[d(" Modalidade ")]),_:1},8,["icon"])):D("",!0),Y.value?(i(),q(U,{key:2,size:"lg",icon:w(E),outline:"",clickable:"",onClick:lt,color:"green","text-color":"green"},{default:s(()=>[d(" Turno ")]),_:1},8,["icon"])):D("",!0)]),t("div",zt,[t("div",Pt,[t("h5",{onClick:l[6]||(l[6]=o=>h.value=!0),class:"tw-text-gray-700 tw-cursor-pointer tw-flex tw-flex-row tw-text-lg tw-font-body tw-justify-center tw-gap-2"},[e(w(V),{icon:"ci:filter",class:"tw-h-6 tw-w-6"}),d(" Filtrar ")]),t("h5",{onClick:it,class:"tw-text-gray-700 tw-cursor-pointer tw-flex tw-flex-row tw-text-lg tw-font-body tw-justify-center tw-gap-2"},[e(w(V),{icon:"tabler:file-export",class:"tw-h-6 tw-w-6"}),d(" Exportar CSV ")])]),t("div",Gt,[e(w(V),{icon:"majesticons:search-line",class:"tw-h-6 tw-w-6 tw-text-gray-600"}),z(t("input",{id:"busca",type:"text",placeholder:"Pesquise aqui",required:"",autofocus:"",autocomplete:"busca",class:"tw-appearance-none tw-border-none tw-w-full tw-text-gray-700","onUpdate:modelValue":l[7]||(l[7]=o=>I.value=o)},null,512),[[P,I.value]])])])]),t("div",Xt,[t("div",Zt,[t("div",Ht,[e(dt,{flat:"",rows:M.value,columns:K,filter:I.value,"visible-columns":Q,pagination:H.value,"row-key":"id","no-data-label":"Não há informações cadastradas.","no-results-label":"Não foi possível localizar informações com o filtro inserido.",selected:A.value,selection:"multiple"},{header:s(o=>[e($,{props:o,class:"tw-h-20"},{default:s(()=>[e(N,{"auto-width":""},{default:s(()=>[e(x,{dense:"",modelValue:o.selected,"onUpdate:modelValue":a=>o.selected=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),(i(!0),_(k,null,S(o.cols,a=>(i(),q(wt,{key:a.name,props:o},{default:s(()=>[t("span",Jt,j(a.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:s(o=>[e($,{props:o,"no-hover":"",class:"roundful tw-overflow-hidden tw-rounded-lg hover:tw-bg-green-100 tw-h-20 tw-transition-colors"},{default:s(()=>[e(N,{"auto-width":""},{default:s(()=>[e(x,{dense:"",modelValue:o.selected,"onUpdate:modelValue":a=>o.selected=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),(i(!0),_(k,null,S(o.cols,a=>(i(),q(N,{key:a.name,props:o},{default:s(()=>[a.name==="actions"?(i(),_("div",Kt,[e(ct,{color:"white",label:"...",class:"tw-text-gray-700"},{default:s(()=>[t("div",Qt,[e(w(L),{href:n.route("painel.turmas.show",o.row.id),title:"Info",class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 z-10 tw-justify-center tw-items-center"},{default:s(()=>[d(" Detalhes ")]),_:2},1032,["href"]),e(w(L),{href:n.route("painel.turmas.editar",o.row.id),title:"Editar",class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 z-10 tw-justify-center tw-items-center"},{default:s(()=>[d(" Editar ")]),_:2},1032,["href"]),t("span",{onClick:te=>rt(o.row),title:"Deletar",class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 tw-justify-center tw-items-center"}," Deletar ",8,Wt)])]),_:2},1024)])):(i(),_("div",Yt,j(a.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","filter","pagination","selected"])])])])])])]),_:1})],64)}}};export{ce as default};
