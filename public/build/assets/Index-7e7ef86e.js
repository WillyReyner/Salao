import{T as mt,k as p,m as N,h as u,o as r,f as b,a as l,u as n,w as a,F as R,Z as pt,b as e,i as D,v as L,d as f,g as v,j as T,c as C,p as P,N as X,t as Z}from"./app-4ab3c1a7.js";import{_ as G}from"./PrimaryButton-0afca82d.js";import{_ as xt}from"./AuthenticatedLayout-0a5f0791.js";import{e as H}from"./index-63df1496.js";import{I as _}from"./iconify-59ac6911.js";import{_ as O}from"./InputLabel-e21345d2.js";import"./ApplicationLogo-af625855.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const bt=e("div",{class:"tw-text-xl tw-font-title tw-text-gray-800 tw-font-bold"},"Selecione as opções que deseja no filtro abaixo: ",-1),vt={class:"tw-flex tw-flex-1 tw-flex-row tw-gap-4"},_t={class:"tw-flex tw-flex-1 tw-flex-row tw-gap-6"},gt={class:"tw-flex tw-flex-1 tw-flex-col tw-gap-4"},yt={class:"tw-flex tw-flex-1 tw-flex-col"},ht={class:"tw-flex tw-flex-1 tw-flex-col"},Ct={class:"tw-flex tw-flex-1 tw-flex-col"},kt=e("div",{class:"tw-text-xl tw-font-title tw-text-gray-800 tw-font-bold tw-text-center"}," Você tem certeza que deseja excluir o(s) registro(s) selecionado(s) definitivamente? ",-1),It={class:"tw-flex tw-flex-1 tw-flex-row tw-mt-10"},At={class:"tw-flex tw-flex-1 flex-row tw-gap-4"},qt={class:"tw-flex tw-flex-1 tw-flex-col"},jt={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},Vt={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},Ut=e("h4",{class:"tw-text-gray-900 tw-font-title tw-font-semibold"},"Habilitações Cadastradas",-1),Dt={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items"},Lt={key:0,class:"tw-text-gray-700 tw-cursor-pointer tw-flex tw-flex-row tw-text-lg tw-font-body tw-justify-center tw-gap-2"},Et={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-mb-8 tw-items-center"},St={class:"tw-flex tw-flex-1 tw-flex-row tw-items-center tw-gap-2 md:tw-flex-row tw-pt-5"},Nt={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-end tw-items-center tw-gap-6 md:tw-flex-row tw-pt-5"},Rt={class:"tw-flex tw-flex-1 tw-flex-row tw-gap-5 tw-justify-end tw-items-center"},Tt={class:"tw-flex tw-flex-1 tw-flex-row tw-mt-1 tw-h-[52px] tw-items-center tw-border tw-px-2 tw-w-full tw-border-gray-200 focus:tw-border-gray-300 tw-leading-10 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},Ht={class:"tw-antialiased tw-font-body"},Ot={class:"tw-py-4 tw-overflow-x-auto"},$t={class:"tw-flex tw-flex-1 tw-flex-col tw-overflow-hidden"},Bt={class:"tw-font-title tw-text-gray-600 tw-text-lg"},Ft={key:0},zt={class:"tw-flex tw-flex-col tw-gap-2"},Mt=["onClick"],Pt={key:1,class:"tw-font-body tw-text-gray-800 tw-text-base"},ee={__name:"Index",props:{habilitacao:{type:Array,default:[]},user:{type:Object,default:{}}},setup(J){const V=J,K=V.user.permissions,I=s=>K.some(o=>o===s),$=mt({id:[],nome:"",created_at:""}),A=p(!1),q=p(!1),E=p(""),B=p({sortBy:"desc",descending:!1,page:1,rowsPerPage:10}),k=p([]),Q={year:"numeric",month:"numeric",day:"numeric"};function W(){A.value=!1}const Y=[{name:"id",field:"id",label:"ID"},{name:"nome",align:"left",label:"HABILITAÇÃO",field:"nome",sortable:!0},{name:"created_at",field:"created_at",required:!0,label:"DATA DA CRIAÇÃO",format:s=>`${new Date(s).toLocaleString("pt-BR",Q)}`,align:"left",sortable:!0},{name:"situacao",field:"situacao",required:!0,label:"STATUS",align:"left",sortable:!0},{name:"actions",label:"AÇÕES",align:"center",field:"id"}],tt=["id","nome","created_at","situacao","actions"],g=p(""),y=p(""),h=p(""),U=p(V.habilitacao),et=N(()=>g.value!=""),ot=N(()=>y.value!=""),lt=N(()=>h.value!="");function j(){const s=h.value!=""?V.tiposArquivo.filter(d=>d.created_at.split("T")[0]==h.value):V.tiposArquivo,o=g.value!=""?s.filter(d=>d.id==g.value):s,m=y.value!=""?o.filter(d=>d.nome.toLowerCase().includes(y.value.toLowerCase())):o;U.value=m,A.value=!1}function at(){h.value="",j()}function st(){g.value="",j()}function it(){y.value="",j()}function rt(){h.value="",g.value="",y.value=""}function nt(s){$.id=s.id||k.value.map(o=>o.id),$.delete(route("painel.habilitacao.destroy"),{preserveScroll:!0,onSuccess:o=>{X.create({message:"Tipo(s) de Habilitação(ões) removido(s) com sucesso.",color:"secondary"}),window.location.href="/habilitacao",j()},onError:o=>{X.create({message:"Não foi possível remover esse(s) Tipo(s) de Habilitação(ões).",color:"negative"})}}),q.value=!1}function wt(s){k.value=[s],q.value=!0}const ct=()=>{if(k.value.length===0){const s=["ID","NOME DAS HABILITAÇÕES","SITUACAO"],o=U.value.map(i=>[i.id,`"${i.nome}"`,i.situacao]),m=`${s.join(",")}
${o.map(i=>i.join(",")).join(`
`)}`,d=new Blob([m],{type:"text/csv;charset=utf-8;"}),x=window.URL.createObjectURL(d),w=document.createElement("a");w.setAttribute("href",x),w.setAttribute("download","HabilitaçõesExport.csv"),document.body.appendChild(w),w.click(),document.body.removeChild(w),window.URL.revokeObjectURL(x)}else{const s=["ID","NOME DAS HABILITAÇÕES","SITUACAO"],o=k.value.map(i=>[i.id,`"${i.nome}"`,i.situacao]),m=`${s.join(",")}
${o.map(i=>i.join(",")).join(`
`)}`,d=new Blob([m],{type:"text/csv;charset=utf-8;"}),x=window.URL.createObjectURL(d),w=document.createElement("a");w.setAttribute("href",x),w.setAttribute("download","HabilitaçõesExport.csv"),document.body.appendChild(w),w.click(),document.body.removeChild(w),window.URL.revokeObjectURL(x)}};return(s,o)=>{const m=u("q-card-section"),d=u("q-card-actions"),x=u("q-card"),w=u("q-dialog"),i=u("q-chip"),F=u("q-checkbox"),S=u("q-td"),dt=u("q-th"),z=u("q-tr"),ut=u("q-menu"),ft=u("q-table");return r(),b(R,null,[l(n(pt),{title:"Habilitações"}),l(xt,null,{default:a(()=>[l(w,{modelValue:A.value,"onUpdate:modelValue":o[3]||(o[3]=t=>A.value=t)},{default:a(()=>[l(x,{style:{"min-width":"40vw","max-width":"500px","border-radius":"20px",padding:"40px"}},{default:a(()=>[l(m,null,{default:a(()=>[bt]),_:1}),l(m,{class:"q-p-none"},{default:a(()=>[e("div",vt,[e("div",_t,[e("div",gt,[e("div",yt,[l(O,{for:"filtroID",value:"ID"}),D(e("input",{id:"filtroID",type:"number",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm","onUpdate:modelValue":o[0]||(o[0]=t=>g.value=t)},null,512),[[L,g.value]])]),e("div",ht,[l(O,{for:"filtroCriacao",value:"Data de Criação"}),D(e("input",{id:"filtroCriacao",type:"date",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm","onUpdate:modelValue":o[1]||(o[1]=t=>h.value=t)},null,512),[[L,h.value]])])]),e("div",Ct,[l(O,{for:"filtroNome",value:"Descrição"}),D(e("input",{id:"filtroNome",type:"text",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm","onUpdate:modelValue":o[2]||(o[2]=t=>y.value=t)},null,512),[[L,y.value]])])])]),e("div",{class:"tw-flex tw-flex-1 tw-flex-row tw-mt-10"},[e("div",{class:"tw-flex tw-flex-1"},[e("button",{onClick:rt,class:"tw-flex tw-px-8 tw-py-3 tw-text-gray-700 tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-white tw-border-2 tw-border-gray-700 tw-justify-center"}," LIMPAR FILTROS ")]),e("div",{class:"tw-flex tw-flex-1 flex-row tw-gap-4"},[e("button",{onClick:W,class:"tw-flex tw-flex-1 tw-py-3 tw-text-primary tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-white tw-border-2 tw-border-primary tw-justify-center"}," CANCELAR "),e("button",{onClick:j,class:"tw-flex tw-flex-1 tw-py-3 tw-text-white tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-primary tw-border-2 tw-border-primary tw-justify-center"}," APLICAR FILTROS ")])])]),_:1}),l(d,{align:"right"})]),_:1})]),_:1},8,["modelValue"]),l(w,{modelValue:q.value,"onUpdate:modelValue":o[5]||(o[5]=t=>q.value=t)},{default:a(()=>[l(x,{style:{"min-width":"40vw","max-width":"380px","border-radius":"20px",padding:"50px"}},{default:a(()=>[l(m,null,{default:a(()=>[kt]),_:1}),l(m,{class:"q-p-none"},{default:a(()=>[e("div",It,[e("div",At,[e("button",{onClick:o[4]||(o[4]=t=>q.value=!1),class:"tw-flex tw-flex-1 tw-py-3 tw-text-primary tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-white tw-border-2 tw-border-primary tw-justify-center"}," CANCELAR "),e("button",{onClick:nt,class:"tw-flex tw-flex-1 tw-py-3 tw-text-white tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-primary tw-border-2 tw-border-primary tw-justify-center"}," EXCLUIR ")])])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e("div",qt,[e("div",jt,[e("div",Vt,[Ut,e("div",Dt,[I("Importar Habilitacao")?(r(),b("h5",Lt,[l(n(_),{icon:"tabler:file-import",class:"tw-h-6 tw-w-6"}),f(" Importar CSV ")])):v("",!0),l(n(T),{href:s.route("painel.habilitacao.create")},{default:a(()=>[I("Criar Habilitacao")?(r(),C(G,{key:0,class:"tw-text-white tw-bg-green-500 tw-items-center"},{default:a(()=>[l(n(_),{icon:"icon-park-outline:add",class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2"}),f(" ADICIONAR HABILITAÇÕES ")]),_:1})):v("",!0)]),_:1},8,["href"])])]),e("div",Et,[e("div",St,[et.value?(r(),C(i,{key:0,size:"lg",icon:n(H),outline:"",clickable:"",onClick:st,color:"green","text-color":"green"},{default:a(()=>[f(" ID ")]),_:1},8,["icon"])):v("",!0),ot.value?(r(),C(i,{key:1,size:"lg",icon:n(H),outline:"",clickable:"",onClick:it,color:"green","text-color":"green"},{default:a(()=>[f(" Descrição ")]),_:1},8,["icon"])):v("",!0),lt.value?(r(),C(i,{key:2,size:"lg",icon:n(H),outline:"",clickable:"",onClick:at,color:"green","text-color":"green"},{default:a(()=>[f(" Data de Criação ")]),_:1},8,["icon"])):v("",!0)]),e("div",Nt,[e("div",Rt,[e("h5",{onClick:o[6]||(o[6]=t=>A.value=!0),class:"tw-text-gray-700 tw-cursor-pointer tw-flex tw-flex-row tw-text-lg tw-font-body tw-justify-center tw-gap-2"},[l(n(_),{icon:"ci:filter",class:"tw-h-6 tw-w-6"}),f(" Filtrar ")]),I("Exportar Habilitacao")?(r(),b("h5",{key:0,onClick:ct,class:"tw-text-gray-700 tw-cursor-pointer tw-flex tw-flex-row tw-text-lg tw-font-body tw-justify-center tw-gap-2"},[l(n(_),{icon:"tabler:file-export",class:"tw-h-6 tw-w-6"}),f(" Exportar CSV ")])):v("",!0)]),e("div",Tt,[l(n(_),{icon:"majesticons:search-line",class:"tw-h-6 tw-w-6 tw-text-gray-600"}),D(e("input",{id:"busca",type:"text",placeholder:"Pesquise aqui",required:"",autofocus:"",autocomplete:"busca",class:"tw-appearance-none tw-border-none tw-w-full tw-text-gray-700","onUpdate:modelValue":o[7]||(o[7]=t=>E.value=t)},null,512),[[L,E.value]])])])]),e("div",Ht,[e("div",Ot,[e("div",$t,[l(ft,{flat:"",rows:U.value,"onUpdate:rows":o[8]||(o[8]=t=>U.value=t),columns:Y,"visible-columns":tt,"row-key":"id",filter:E.value,"no-data-label":"Não há informações cadastradas.","no-results-label":"Não foi possível localizar informações com o filtro inserido.","rows-per-page-label":"Registros por página",pagination:B.value,"onUpdate:pagination":o[9]||(o[9]=t=>B.value=t),"pagination-label":(t,c,M)=>`${t} à ${c} de ${M} registros`,"selected-rows-label":t=>t+" registro(s) selecionado(s)",selected:k.value,"onUpdate:selected":o[10]||(o[10]=t=>k.value=t),selection:"multiple"},{header:a(t=>[l(z,{props:t,class:"tw-h-20"},{default:a(()=>[l(S,{"auto-width":""},{default:a(()=>[l(F,{dense:"",modelValue:t.selected,"onUpdate:modelValue":c=>t.selected=c},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),(r(!0),b(R,null,P(t.cols,c=>(r(),C(dt,{key:c.name,props:t},{default:a(()=>[e("span",Bt,Z(c.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(t=>[l(z,{props:t,"no-hover":"",class:"roundful tw-overflow-hidden tw-rounded-lg hover:tw-bg-green-100 tw-h-20 tw-transition-colors"},{default:a(()=>[l(S,{"auto-width":""},{default:a(()=>[l(F,{dense:"",modelValue:t.selected,"onUpdate:modelValue":c=>t.selected=c},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),(r(!0),b(R,null,P(t.cols,c=>(r(),C(S,{key:c.name,props:t},{default:a(()=>[c.name==="actions"?(r(),b("div",Ft,[l(G,{class:"tw-text-black tw-text-lg"},{default:a(()=>[f("... "),l(ut,{"auto-close":""},{default:a(()=>[e("div",zt,[l(n(T),{href:s.route("painel.habilitacao.show",t.row.id),title:"Info",class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 z-10 tw-justify-right tw-items-center"},{default:a(()=>[l(n(_),{icon:"arcticons:searchbar-ex",class:"tw-h-6 tw-w-6"}),f("  Visualizar ")]),_:2},1032,["href"]),I("Editar Habilitacao")?(r(),C(n(T),{key:0,href:s.route("painel.habilitacao.editar",t.row.id),title:"Editar",class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 z-10 tw-justify-right tw-items-center"},{default:a(()=>[l(n(_),{icon:"arcticons:simpletexteditor",class:"tw-h-6 tw-w-6"}),f("  Editar ")]),_:2},1032,["href"])):v("",!0),I("Excluir Habilitacao")?(r(),b("span",{key:1,onClick:M=>wt(t.row),title:"Deletar",class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 tw-justify-right tw-items-center"},[l(n(_),{icon:"arcticons:trashcan",class:"tw-h-6 tw-w-6"}),f("  Excluir ")],8,Mt)):v("",!0)])]),_:2},1024)]),_:2},1024)])):(r(),b("div",Pt,Z(c.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","filter","pagination","pagination-label","selected-rows-label","selected"])])])])])])]),_:1})],64)}}};export{ee as default};
