import{T as ct,k as c,m as T,h as w,o as d,f as h,a as o,u as a,w as s,F as E,Z as ft,b as e,i as C,v as q,j as I,d as n,c as y,g as U,q as M,N as K,t as X}from"./app-2933ccec.js";import{_ as Z}from"./PrimaryButton-02c02623.js";import{_ as ut}from"./AuthenticatedLayout-50909e50.js";import{e as R}from"./index-63df1496.js";import{I as f}from"./iconify-9ec0487d.js";import{_ as F}from"./InputLabel-a20d7587.js";import"./ApplicationLogo-6533a325.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const mt=e("div",{class:"tw-text-xl tw-font-title tw-text-gray-800 tw-font-bold"},"Selecione as opções que deseja no filtro abaixo: ",-1),pt={class:"tw-flex tw-flex-1 tw-flex-row tw-gap-4"},xt={class:"tw-flex tw-flex-1 tw-flex-row tw-gap-6"},_t={class:"tw-flex tw-flex-1 tw-flex-col tw-gap-4"},vt={class:"tw-flex tw-flex-1 tw-flex-col"},gt={class:"tw-flex tw-flex-1 tw-flex-col"},bt={class:"tw-flex tw-flex-1 tw-flex-col"},ht=e("div",{class:"tw-text-xl tw-font-title tw-text-gray-800 tw-font-bold tw-text-center"}," Você tem certeza que deseja excluir o(s) registro(s) selecionado(s) definitivamente? ",-1),yt={class:"tw-flex tw-flex-1 tw-flex-row tw-mt-10"},kt={class:"tw-flex tw-flex-1 flex-row tw-gap-4"},Ct={class:"tw-flex tw-flex-1 tw-flex-col"},qt={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},It={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},Vt=e("h4",{class:"tw-text-gray-900 tw-font-title tw-font-semibold"},"Tickets",-1),Dt={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-mb-8 tw-items-center"},jt={class:"tw-flex tw-flex-1 tw-flex-row tw-items-center tw-gap-2 md:tw-flex-row tw-pt-5"},Nt={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-end tw-items-center tw-gap-6 md:tw-flex-row tw-pt-5"},At={class:"tw-flex tw-flex-1 tw-flex-row tw-gap-5 tw-justify-end tw-items-center"},Tt={class:"tw-text-gray-700 tw-cursor-pointer tw-flex tw-flex-row tw-text-lg tw-font-body tw-justify-center tw-gap-2"},Et={class:"tw-flex tw-flex-1 tw-flex-row tw-mt-1 tw-h-[52px] tw-items-center tw-border tw-px-2 tw-w-full tw-border-gray-200 focus:tw-border-gray-300 tw-leading-10 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},Ut={class:"tw-antialiased tw-font-body"},Rt={class:"tw-py-4 tw-overflow-x-auto"},Ft={class:"tw-flex tw-flex-1 tw-flex-col tw-overflow-hidden"},Lt={class:"tw-font-title tw-text-gray-600 tw-text-lg"},St={key:0},$t={class:"tw-flex tw-flex-col tw-gap-2"},zt=["onClick"],Bt={key:1,class:"tw-font-body tw-text-gray-800 tw-text-base"},Qt={__name:"Index",props:{ticket:{type:Array,default:[]}},setup(G){const V=G,L=ct({id:[],nome:"",created_at:""}),v=c(!1),g=c(!1),D=c(""),S=c({sortBy:"desc",descending:!1,page:1,rowsPerPage:10}),k=c([]),H={year:"numeric",month:"numeric",day:"numeric"};function J(){v.value=!1}const Q=[{name:"id",field:"id",label:"ID"},{name:"nome",align:"left",label:"TICKET",field:"nome",sortable:!0},{name:"created_at",field:"created_at",required:!0,label:"DATA DA CRIAÇÃO",format:r=>`${new Date(r).toLocaleString("pt-BR",H)}`,align:"left",sortable:!0},{name:"actions",label:"AÇÕES",align:"center",field:"id"}],W=["id","nome","created_at","actions"],u=c(""),m=c(""),p=c(""),j=c(V.ticket),Y=T(()=>u.value!=""),tt=T(()=>m.value!=""),et=T(()=>p.value!="");function b(){const r=p.value!=""?V.ticket.filter(x=>x.created_at.split("T")[0]==p.value):V.ticket,l=u.value!=""?r.filter(x=>x.id==u.value):r,_=m.value!=""?l.filter(x=>x.nome.toLowerCase().includes(m.value.toLowerCase())):l;j.value=_,v.value=!1}function ot(){p.value="",b()}function lt(){u.value="",b()}function st(){m.value="",b()}function at(){p.value="",u.value="",m.value=""}function rt(r){L.id=r.id||k.value.map(l=>l.id),L.post(route("painel.ticket.destroy"),{preserveScroll:!0,onSuccess:l=>{K.create({message:"Tipo(s) de Arquivo(s) removido(s) com sucesso.",color:"secondary"}),window.location.href="/ticket",b()},onError:l=>{K.create({message:"Não foi possível remover esse(s) Tipo(s) de Arquivo(s).",color:"negative"})}}),g.value=!1}function it(r){k.value=[r],g.value=!0}return(r,l)=>{const _=w("q-card-section"),x=w("q-card-actions"),$=w("q-card"),z=w("q-dialog"),N=w("q-chip"),B=w("q-checkbox"),A=w("q-td"),wt=w("q-th"),O=w("q-tr"),nt=w("q-menu"),dt=w("q-table");return d(),h(E,null,[o(a(ft),{title:"Tickets"}),o(ut,null,{default:s(()=>[o(z,{modelValue:v.value,"onUpdate:modelValue":l[3]||(l[3]=t=>v.value=t)},{default:s(()=>[o($,{style:{"min-width":"40vw","max-width":"500px","border-radius":"20px",padding:"40px"}},{default:s(()=>[o(_,null,{default:s(()=>[mt]),_:1}),o(_,{class:"q-p-none"},{default:s(()=>[e("div",pt,[e("div",xt,[e("div",_t,[e("div",vt,[o(F,{for:"filtroID",value:"ID"}),C(e("input",{id:"filtroID","onUpdate:modelValue":l[0]||(l[0]=t=>u.value=t),class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",type:"number"},null,512),[[q,u.value]])]),e("div",gt,[o(F,{for:"filtroCriacao",value:"Data de Criação"}),C(e("input",{id:"filtroCriacao","onUpdate:modelValue":l[1]||(l[1]=t=>p.value=t),class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",type:"date"},null,512),[[q,p.value]])])]),e("div",bt,[o(F,{for:"filtroNome",value:"Descrição"}),C(e("input",{id:"filtroNome","onUpdate:modelValue":l[2]||(l[2]=t=>m.value=t),class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",type:"text"},null,512),[[q,m.value]])])])]),e("div",{class:"tw-flex tw-flex-1 tw-flex-row tw-mt-10"},[e("div",{class:"tw-flex tw-flex-1"},[e("button",{class:"tw-flex tw-px-8 tw-py-3 tw-text-gray-700 tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-white tw-border-2 tw-border-gray-700 tw-justify-center",onClick:at}," LIMPAR FILTROS ")]),e("div",{class:"tw-flex tw-flex-1 flex-row tw-gap-4"},[e("button",{class:"tw-flex tw-flex-1 tw-py-3 tw-text-primary tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-white tw-border-2 tw-border-primary tw-justify-center",onClick:J}," CANCELAR "),e("button",{class:"tw-flex tw-flex-1 tw-py-3 tw-text-white tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-primary tw-border-2 tw-border-primary tw-justify-center",onClick:b}," APLICAR FILTROS ")])])]),_:1}),o(x,{align:"right"})]),_:1})]),_:1},8,["modelValue"]),o(z,{modelValue:g.value,"onUpdate:modelValue":l[5]||(l[5]=t=>g.value=t)},{default:s(()=>[o($,{style:{"min-width":"40vw","max-width":"380px","border-radius":"20px",padding:"50px"}},{default:s(()=>[o(_,null,{default:s(()=>[ht]),_:1}),o(_,{class:"q-p-none"},{default:s(()=>[e("div",yt,[e("div",kt,[e("button",{class:"tw-flex tw-flex-1 tw-py-3 tw-text-primary tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-white tw-border-2 tw-border-primary tw-justify-center",onClick:l[4]||(l[4]=t=>g.value=!1)}," CANCELAR "),e("button",{class:"tw-flex tw-flex-1 tw-py-3 tw-text-white tw-text-sm tw-uppercase tw-rounded-md tw-font-title tw-font-semibold tw-bg-primary tw-border-2 tw-border-primary tw-justify-center",onClick:rt}," EXCLUIR ")])])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e("div",Ct,[e("div",qt,[e("div",It,[Vt,o(a(I),{href:r.route("painel.ticket.create")},{default:s(()=>[o(Z,{class:"tw-text-white tw-bg-green-500 tw-items-center"},{default:s(()=>[o(a(f),{class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2",icon:"icon-park-outline:add"}),n(" ADICIONAR TICKETS ")]),_:1})]),_:1},8,["href"])]),e("div",Dt,[e("div",jt,[Y.value?(d(),y(N,{key:0,icon:a(R),clickable:"",color:"green",outline:"",size:"lg","text-color":"green",onClick:lt},{default:s(()=>[n(" ID ")]),_:1},8,["icon"])):U("",!0),tt.value?(d(),y(N,{key:1,icon:a(R),clickable:"",color:"green",outline:"",size:"lg","text-color":"green",onClick:st},{default:s(()=>[n(" Descrição ")]),_:1},8,["icon"])):U("",!0),et.value?(d(),y(N,{key:2,icon:a(R),clickable:"",color:"green",outline:"",size:"lg","text-color":"green",onClick:ot},{default:s(()=>[n(" Data de Criação ")]),_:1},8,["icon"])):U("",!0)]),e("div",Nt,[e("div",At,[e("h5",{class:"tw-text-gray-700 tw-cursor-pointer tw-flex tw-flex-row tw-text-lg tw-font-body tw-justify-center tw-gap-2",onClick:l[6]||(l[6]=t=>v.value=!0)},[o(a(f),{class:"tw-h-6 tw-w-6",icon:"ci:filter"}),n(" Filtrar ")]),e("h5",Tt,[o(a(f),{class:"tw-h-6 tw-w-6",icon:"tabler:file-export"}),n(" Exportar CSV ")])]),e("div",Et,[o(a(f),{class:"tw-h-6 tw-w-6 tw-text-gray-600",icon:"majesticons:search-line"}),C(e("input",{id:"busca","onUpdate:modelValue":l[7]||(l[7]=t=>D.value=t),autocomplete:"busca",autofocus:"",class:"tw-appearance-none tw-border-none tw-w-full tw-text-gray-700",placeholder:"Pesquise aqui",required:"",type:"text"},null,512),[[q,D.value]])])])]),e("div",Ut,[e("div",Rt,[e("div",Ft,[o(dt,{pagination:S.value,"onUpdate:pagination":l[8]||(l[8]=t=>S.value=t),rows:j.value,"onUpdate:rows":l[9]||(l[9]=t=>j.value=t),selected:k.value,"onUpdate:selected":l[10]||(l[10]=t=>k.value=t),columns:Q,filter:D.value,"pagination-label":(t,i,P)=>`${t} à ${i} de ${P} registros`,"selected-rows-label":t=>t+" registro(s) selecionado(s)","visible-columns":W,flat:"","no-data-label":"Não há informações cadastradas.","no-results-label":"Não foi possível localizar informações com o filtro inserido.","row-key":"id","rows-per-page-label":"Registros por página",selection:"multiple","wrap-cells":""},{header:s(t=>[o(O,{props:t,class:"tw-h-20"},{default:s(()=>[o(A,{"auto-width":""},{default:s(()=>[o(B,{modelValue:t.selected,"onUpdate:modelValue":i=>t.selected=i,dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),(d(!0),h(E,null,M(t.cols,i=>(d(),y(wt,{key:i.name,props:t},{default:s(()=>[e("span",Lt,X(i.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:s(t=>[o(O,{props:t,class:"roundful tw-overflow-hidden tw-rounded-lg hover:tw-bg-green-100 tw-h-20 tw-transition-colors","no-hover":""},{default:s(()=>[o(A,{"auto-width":""},{default:s(()=>[o(B,{modelValue:t.selected,"onUpdate:modelValue":i=>t.selected=i,dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),(d(!0),h(E,null,M(t.cols,i=>(d(),y(A,{key:i.name,props:t},{default:s(()=>[i.name==="actions"?(d(),h("div",St,[o(Z,{class:"tw-text-black tw-text-lg"},{default:s(()=>[n("... "),o(nt,{"auto-close":""},{default:s(()=>[e("div",$t,[o(a(I),{href:r.route("painel.ticket.show",t.row.id),class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 z-10 tw-justify-right tw-items-center",title:"Info"},{default:s(()=>[o(a(f),{class:"tw-h-6 tw-w-6",icon:"arcticons:searchbar-ex"}),n("  Visualizar ")]),_:2},1032,["href"]),o(a(I),{href:r.route("painel.ticket.editar",t.row.id),class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 z-10 tw-justify-right tw-items-center",title:"Editar"},{default:s(()=>[o(a(f),{class:"tw-h-6 tw-w-6",icon:"arcticons:simpletexteditor"}),n("  Editar ")]),_:2},1032,["href"]),o(a(I),{href:r.route("painel.ticket.editar",t.row.id),class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 z-10 tw-justify-right tw-items-center",title:"Editar"},{default:s(()=>[o(a(f),{class:"tw-h-6 tw-w-6",icon:"ph:export-thin"}),n("  Exportar ")]),_:2},1032,["href"]),e("span",{class:"tw-flex hover:tw-bg-gray-100 flex-row tw-p-2 tw-justify-right tw-items-center",title:"Deletar",onClick:P=>it(t.row)},[o(a(f),{class:"tw-h-6 tw-w-6",icon:"arcticons:trashcan"}),n("  Excluir ")],8,zt)])]),_:2},1024)]),_:2},1024)])):(d(),h("div",Bt,X(i.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["pagination","rows","selected","filter","pagination-label","selected-rows-label"])])])])])])]),_:1})],64)}}};export{Qt as default};
