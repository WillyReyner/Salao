import{_ as d}from"./InputError-1b7c406d.js";import{_ as c}from"./InputLabel-427b0165.js";import{_ as D}from"./AuthenticatedLayout-0b4545fd.js";import{I as k}from"./iconify-9fabe4c1.js";import{k as u,T as F,y as x,h as y,o as N,f as S,a as o,u as a,w as v,F as U,Z as C,b as r,j as P,d as h,N as V}from"./app-846bdf4e.js";import"./ApplicationLogo-00219c91.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const j={class:"tw-flex tw-flex-1 tw-flex-col"},B={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},T=r("div",{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},[r("h4",{class:"tw-font-title tw-font-semibold"},"Adicionar Edital")],-1),$=r("div",{class:"tw-flex md:tw-flex-row tw-flex-col md: tw-gap-2 tw-m-2"},[r("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4"},"INFORMAÇÕES BÁSICAS")],-1),M={class:"tw-flex tw-flex-row tw-gap-2 tw-m-2"},O={class:"tw-flex tw-flex-col tw-w-[100%]"},R={class:"tw-flex tw-flex-col tw-w-[100%]"},L={class:"tw-flex tw-flex-col tw-w-[100%]"},X={class:"tw-flex tw-flex-col tw-w-[100%]"},Z={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-2 tw-m-2"},z={class:"tw-flex tw-flex-col tw-w-[50%]"},G={class:"tw-flex tw-flex-col tw-w-[25%]"},H={class:"tw-flex tw-flex-col tw-w-[25%]"},J={class:"tw-flex tw-justify-end tw-gap-2 tw-py-4"},it={__name:"Novo",props:{escolas:{type:Array,default:[]},tiposArquivo:{type:Array,default:[]},editais:{type:Array,default:[]},turmas:{type:Array,default:[]},municipios:{type:Array,default:[]},cursos:{type:Array,default:[]},documentacao:{type:Array,default:[]},editalModelo:{type:Array,default:[]}},setup(q){const n=q,p=u("");u([]),u([]),u([]);const A=n.editalModelo.map(e=>({label:e.nome,value:e.id}));n.escolas.map(e=>({label:e.nome,value:e.id})),n.municipios.map(e=>({label:e.nome,value:e.id}));const _=["Ativo","Inativo","Bloqueado"];n.documentacao.map(e=>({label:e.nome,value:e.id})),n.documentacao.map(e=>({label:e.nome,value:e.id}));const t=F({nome:"",data_publicacao:"",data_fim_edital:"",agendar_publicacao:"Nao",dt_inicio_inscricao:"",dt_fim_inscricao:"",situacao:"",tipo:""});function I(){const e={data_publicacao:"Data de Publicação",data_fim_edital:"Fim do Edital",agendar_publicacao:"Agendar Publicação",dt_inicio_inscricao:"Início da Inscrição",dt_fim_inscricao:"Término da Inscrição",nome:"Nome",situacao:"Status",tipo:"Tipo"};Object.keys(e).forEach(l=>{t[l]?t.errors[l]=null:t.errors[l]=`O campo ${e[l]} é obrigatório`})}function E(){I(),t.post(route("painel.stai.editais.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:e=>{t.reset(),V.create({message:"Edital registrado com sucesso.",color:"secondary"})},onError:e=>{console.log(e),V.create({message:"Não foi possível registrar o Edital.",color:"negative"})}})}return x(()=>t.udepi,e=>{e!=="Sim"&&p.value!==null&&(t.municipio_id=p.value)}),x(()=>[t.data_publicacao,t.data_fim_edital,t.dt_inicio_inscricao,t.dt_fim_inscricao],([e,i,l,w])=>{const s=new Date,m=new Date(e),f=new Date(i),g=new Date(l),b=new Date(w);f<m?t.errors.data_fim_edital="A data de término do edital não pode ser menor do que a data de Publicação.":t.errors.data_fim_edital="",m>f?t.errors.data_publicacao="A data de Publicação não pode ser maior do que a data do Fim do Edital.":t.errors.data_publicacao="",b<g?t.errors.dt_fim_inscricao="A data de Fim da Inscrição não pode ser menor do que a data de Iníco da Inscrição.":t.errors.dt_fim_inscricao="",g>b?t.errors.dt_inicio_inscricao="A data de Inicio de Inscrição não pode ser maior do que a data do Fim do Inscrição.":t.errors.dt_inicio_inscricao="",m<=s&&s<=f?t.situacao="Ativo":t.situacao="Inativo"}),(e,i)=>{const l=y("q-input"),w=y("q-select");return N(),S(U,null,[o(a(C),{title:"Editais"}),o(D,null,{default:v(()=>[r("div",j,[r("div",B,[T,$,r("div",M,[r("div",O,[o(c,{for:"data_publicacao",required:"",value:"Data de Publicação"}),o(l,{id:"data_publicacao",modelValue:a(t).data_publicacao,"onUpdate:modelValue":i[0]||(i[0]=s=>a(t).data_publicacao=s),autocomplete:"data_publicacao",autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),o(d,{message:a(t).errors.data_publicacao,class:"tw-mt-2"},null,8,["message"])]),r("div",R,[o(c,{for:"data_fim_edital",required:"",value:"Fim do Edital"}),o(l,{id:"data_fim_edital",modelValue:a(t).data_fim_edital,"onUpdate:modelValue":i[1]||(i[1]=s=>a(t).data_fim_edital=s),autocomplete:"data_fim_edital",autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),o(d,{message:a(t).errors.data_fim_edital,class:"tw-mt-2"},null,8,["message"])]),r("div",L,[o(c,{for:"dt_inicio_inscricao",required:"",value:"Início da Inscrição"}),o(l,{id:"dt_inicio_inscricao",modelValue:a(t).dt_inicio_inscricao,"onUpdate:modelValue":i[2]||(i[2]=s=>a(t).dt_inicio_inscricao=s),autocomplete:"dt_inicio_inscricao",autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),o(d,{message:a(t).errors.dt_inicio_inscricao,class:"tw-mt-2"},null,8,["message"])]),r("div",X,[o(c,{for:"dt_fim_inscricao",required:"",value:"Término da Inscrição"}),o(l,{id:"dt_fim_inscricao",modelValue:a(t).dt_fim_inscricao,"onUpdate:modelValue":i[3]||(i[3]=s=>a(t).dt_fim_inscricao=s),autocomplete:"dt_fim_inscricao",autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:"",type:"date"},null,8,["modelValue"]),o(d,{message:a(t).errors.dt_fim_inscricao,class:"tw-mt-2"},null,8,["message"])])]),r("div",Z,[r("div",z,[o(c,{for:"nome",required:"",value:"Nome"}),o(l,{modelValue:a(t).nome,"onUpdate:modelValue":i[4]||(i[4]=s=>a(t).nome=s),options:a(A),class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",type:"text"},null,8,["modelValue","options"]),o(d,{message:a(t).errors.nome,class:"tw-mt-2"},null,8,["message"])]),r("div",G,[o(c,{for:"situacao",required:"",value:"Status"}),o(w,{modelValue:a(t).situacao,"onUpdate:modelValue":i[5]||(i[5]=s=>a(t).situacao=s),options:_,class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:""},null,8,["modelValue"]),o(d,{message:a(t).errors.situacao,class:"tw-mt-2"},null,8,["message"])]),r("div",H,[o(c,{for:"tipo",required:"",value:"Status"}),o(w,{modelValue:a(t).tipo,"onUpdate:modelValue":i[6]||(i[6]=s=>a(t).tipo=s),options:_,class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:""},null,8,["modelValue"]),o(d,{message:a(t).errors.tipo,class:"tw-mt-2"},null,8,["message"])])]),r("div",J,[o(a(P),{href:e.route("painel.editais"),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},{default:v(()=>[h(" CANCELAR ")]),_:1},8,["href"]),r("span",{class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-border-transparent tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-white tw-bg-green-500 tw-items-center",onClick:i[7]||(i[7]=s=>E())},[o(a(k),{class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2",icon:"fluent:save-16-regular"}),h(" PRÓXIMO ")])])])])]),_:1})],64)}}};export{it as default};
