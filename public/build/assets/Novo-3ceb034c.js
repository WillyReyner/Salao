import{_ as i}from"./InputError-8e97e87c.js";import{_ as d}from"./InputLabel-e21345d2.js";import{_ as U}from"./AuthenticatedLayout-0a5f0791.js";import{I as C}from"./iconify-59ac6911.js";import{k as u,T as F,m as A,h as f,o as j,f as D,a as o,u as s,w as p,F as P,Z as B,b as l,q as E,j as I,d as x,N as _}from"./app-4ab3c1a7.js";import"./ApplicationLogo-af625855.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const $={class:"tw-flex tw-flex-1 tw-flex-col"},L={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},O=l("div",{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},[l("h4",{class:"tw-font-title tw-font-semibold"}," Adicionar Usuário ")],-1),S=l("div",{class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-m-2"},[l("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4"}," Dados Pessoais ")],-1),R={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-2 tw-gap-2 tw-m-1 tw-pb-4"},T={class:"tw-flex tw-flex-col"},z={class:"q-file-image"},G=["src"],K={class:"tw-flex tw-flex-1 tw-flex-col"},M={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-1 tw-m-2 tw-pb-16"},Q={class:"tw-flex tw-flex-col tw-mr-4 tw-w-3/4"},Z={class:"tw-flex tw-flex-col tw-mr-4 tw-w-1/4"},H={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-2 tw-m-2"},J={class:"tw-flex tw-flex-1 tw-flex-col"},W={class:"tw-flex tw-flex-1 tw-flex-col"},X={class:"tw-flex tw-flex-1 tw-flex-col"},Y={class:"tw-flex tw-flex-1 tw-flex-col"},ee={class:"tw-flex tw-justify-end tw-gap-2"},de={__name:"Novo",props:{usuarios:{type:Array,default:[]},roles:{type:Array,default:[]},permissions:{type:Array,default:[]}},setup(y){const v=y.roles.map(r=>({label:r.name,value:r.id}));u(""),u("");const e=F({name:"",cpf:"",email:"",telefone:"",role:[],data_nascimento:"",imagem:null}),g=u("https://t4.ftcdn.net/jpg/04/73/25/49/360_F_473254957_bxG9yf4ly7OBO5I0O5KABlN930GwaMQz.jpg"),m=u(null),b=r=>new Promise((t,n)=>{const w=new FileReader;w.readAsDataURL(r),w.onload=()=>t(w.result),w.onerror=c=>n(c)}),h=async r=>{m.value=await b(r),e.imagem=r},V=A(()=>`background-image: url(${m.value||g.value})`);function q(){const r={name:"Nome",cpf:"Cpf",email:"Email",telefone:"Telefone",role:"Perfil do Usuário",data_nascimento:"Data de Nascimento"};Object.keys(r).forEach(n=>{e[n]?e.errors[n]=null:e.errors[n]=`O campo ${r[n]} é obrigatório`})}function k(){q(),e.post(route("painel.gestao.usuarios.store"),{forceFormData:!0,preserveScroll:!0,forceFormData:!0,onSuccess:r=>{e.reset(),_.create({message:"Usuário registrado com sucesso.",color:"secondary"})},onError:r=>{console.log(r),_.create({message:"Não foi possível registrar o usuário.",color:"negative"})}})}const N=r=>{const t=r.keyCode||r.which;return t>64&&t<91||t>96&&t<123||t===32||t>191&&t<=255?!0:(r.preventDefault(),!1)};return(r,t)=>{const n=f("q-file"),w=f("q-input"),c=f("q-select");return j(),D(P,null,[o(s(B),{title:"Cursos"}),o(U,null,{default:p(()=>[l("div",$,[l("div",L,[O,S,l("div",R,[l("div",T,[l("div",z,[o(n,{outlined:"","model-value":s(e).imagem,"onUpdate:modelValue":h,accept:".jpg,.png"},{before:p(()=>[l("div",{class:"q-file-image-preview",style:E(V.value)},[l("img",{src:m.value||g.value},null,8,G)],4)]),_:1},8,["model-value"])])]),l("div",K,[l("div",M,[l("div",Q,[o(d,{for:"name",value:"Nome Completo",required:""}),o(w,{onKeypress:N,maxlength:"256",outlined:"",id:"name",modelValue:s(e).name,"onUpdate:modelValue":t[0]||(t[0]=a=>s(e).name=a),class:"tw-mt-1 tw-text-gray-700 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),o(i,{class:"tw-mt-2",message:s(e).errors.name},null,8,["message"])]),l("div",Z,[o(d,{for:"role",value:"Perfil do Usuário",required:""}),o(c,{"emit-value":"","map-options":"",outlined:"",options:s(v),id:"role",modelValue:s(e).role,"onUpdate:modelValue":t[1]||(t[1]=a=>s(e).role=a),class:"tw-mt-1 tw-text-gray-700 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["options","modelValue"]),o(i,{class:"tw-mt-2",message:s(e).errors.role},null,8,["message"])])]),l("div",H,[l("div",J,[o(d,{for:"email",value:"Email",required:""}),o(w,{outlined:"",id:"email",maxlength:"80",modelValue:s(e).email,"onUpdate:modelValue":t[2]||(t[2]=a=>s(e).email=a),class:"tw-mt-1 tw-text-gray-700 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),o(i,{class:"tw-mt-2",message:s(e).errors.email},null,8,["message"])]),l("div",W,[o(d,{for:"telefone",value:"Telefone",required:""}),o(w,{outlined:"",mask:"(##) #####-####",id:"telefone",modelValue:s(e).telefone,"onUpdate:modelValue":t[3]||(t[3]=a=>s(e).telefone=a),class:"tw-mt-1 tw-text-gray-700 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),o(i,{class:"tw-mt-2",message:s(e).errors.telefone},null,8,["message"])]),l("div",X,[o(d,{for:"data_nascimento",value:"Data de Nascimento",required:""}),o(w,{outlined:"",type:"date",id:"data_nascimento",modelValue:s(e).data_nascimento,"onUpdate:modelValue":t[4]||(t[4]=a=>s(e).data_nascimento=a),class:"tw-mt-1 tw-text-gray-700 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),o(i,{class:"tw-mt-2",message:s(e).errors.data_nascimento},null,8,["message"])]),l("div",Y,[o(d,{for:"cpf",value:"CPF",required:""}),o(w,{outlined:"",mask:"###.###.###-##",id:"cpf",modelValue:s(e).cpf,"onUpdate:modelValue":t[5]||(t[5]=a=>s(e).cpf=a),class:"tw-mt-1 tw-text-gray-700 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),o(i,{class:"tw-mt-2",message:s(e).errors.cpf},null,8,["message"])])])])]),l("div",ee,[o(s(I),{href:r.route("painel.gestao.usuarios"),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},{default:p(()=>[x(" CANCELAR ")]),_:1},8,["href"]),l("span",{onClick:t[6]||(t[6]=a=>k()),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-border-transparent tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-white tw-bg-green-500 tw-items-center"},[o(s(C),{icon:"fluent:save-16-regular",class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2"}),x(" SALVAR ")])])])])]),_:1})],64)}}};export{de as default};
