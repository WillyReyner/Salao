import{_ as C}from"./AuthenticatedLayout-0b4545fd.js";import{_ as S}from"./InputError-1b7c406d.js";import{_ as I}from"./InputLabel-427b0165.js";import{T as F,k as _,h as m,o as d,f,a as r,u as l,w as p,F as u,Z as L,b as s,q as b,j as U,d as g,N as v}from"./app-846bdf4e.js";import{I as $}from"./iconify-9fabe4c1.js";import"./ApplicationLogo-00219c91.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const j={class:"tw-flex tw-flex-1 tw-flex-col"},T={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-7 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},B=s("div",{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},[s("h4",{class:"tw-font-title tw-font-semibold"},"Adicionar Nível de Acesso")],-1),O=s("div",{class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2"},[s("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4"},"NÍVEL DE ACESSO")],-1),P={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2"},R={class:"tw-flex tw-flex-1 tw-flex-col"},z=s("div",{class:"tw-flex tw-flex-col tw-m-2"},[s("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-mt-4 tw-border-b-2 tw-border-gray-200"}," PERMISSÕES")],-1),D={class:"tw-flex tw-flex-row tw-text-sm"},G={class:"tw-flex tw-justify-end tw-gap-2 tw-mt-4"},Y={__name:"Novo",props:{permissions:{type:Array,default:[]},roles:{type:Object,default:{}},permissionsAll:{type:Array,default:[]}},setup(y){const t=F({name:"",permissions:[]}),i=y,x=[{name:"Index",permissions:i.permissions.filter(e=>e.name.includes("Index"))},{name:"Criar",permissions:i.permissions.filter(e=>e.name.includes("Criar"))},{name:"Editar",permissions:i.permissions.filter(e=>e.name.includes("Editar"))},{name:"Excluir",permissions:i.permissions.filter(e=>e.name.includes("Excluir"))},{name:"Importar",permissions:i.permissions.filter(e=>e.name.includes("Importar"))},{name:"Exportar",permissions:i.permissions.filter(e=>e.name.includes("Exportar"))},{name:"Logs",permissions:i.permissions.filter(e=>e.name.includes("Logs"))},{name:"Sidebar",permissions:i.permissions.filter(e=>e.name.includes("Sidebar"))},{name:"Topbar",permissions:i.permissions.filter(e=>e.name.includes("Topbar"))}];x.forEach(e=>{e.selectAll=_(!1)});function h(e){const o=e.permissions.some(a=>!t.permissions.includes(a.id));e.selectAll=o,e.selectAll?t.permissions=[...t.permissions,...e.permissions.map(a=>a.id)]:t.permissions=t.permissions.filter(a=>!e.permissions.some(c=>c.id===a))}function A(){["name"].forEach(o=>{t[o]?t.errors[o]=null:t.errors[o]=`${E(o)} é obrigatório`})}function E(e){return e.charAt(0).toUpperCase()+e.slice(1)}_(!1);function N(){A(),t.post(route("painel.gestao.roles.store"),{preserveScroll:!0,onSuccess:e=>{t.reset(),v.create({message:"Níveis de Acessos registrado com sucesso.",color:"secondary"})},onError:e=>{console.log(e),v.create({message:"Não foi possível registrar os Níveis de Acessos.",color:"negative"})}})}return(e,o)=>{const a=m("q-input"),c=m("q-checkbox"),V=m("q-card-section"),q=m("q-card");return d(),f(u,null,[r(l(L),{title:"Permissões"}),r(C,null,{default:p(()=>[s("div",j,[s("div",T,[B,O,s("div",P,[s("div",R,[r(I,{for:"name",required:"",value:"Nome dos Níveis de Acesso"}),r(a,{id:"name",modelValue:l(t).name,"onUpdate:modelValue":o[0]||(o[0]=n=>l(t).name=n),autofocus:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",outlined:"",required:""},null,8,["modelValue"]),r(S,{message:l(t).errors.name,class:"tw-mt-2"},null,8,["message"])])]),z,r(q,null,{default:p(()=>[r(V,null,{default:p(()=>[s("div",D,[(d(),f(u,null,b(x,n=>s("div",{key:n.name},[r(c,{modelValue:n.selectAll,"onUpdate:modelValue":w=>n.selectAll=w,label:n.name,onClick:w=>h(n),class:"tw-uppercase"},null,8,["modelValue","onUpdate:modelValue","label","onClick"]),(d(!0),f(u,null,b(n.permissions,w=>(d(),f("div",{key:w.id,class:"tw-ml-3 tw-border-b tw-border-gray-200"},[r(c,{modelValue:l(t).permissions,"onUpdate:modelValue":o[1]||(o[1]=k=>l(t).permissions=k),label:w.name,val:w.id},null,8,["modelValue","label","val"])]))),128))])),64))])]),_:1})]),_:1}),s("div",G,[r(l(U),{href:e.route("painel.gestao.roles"),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},{default:p(()=>[g(" CANCELAR ")]),_:1},8,["href"]),s("span",{class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-border-transparent tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-white tw-bg-green-500 tw-items-center",onClick:o[2]||(o[2]=n=>N())},[r(l($),{class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2",icon:"fluent:save-16-regular"}),g(" Salvar ")])])])])]),_:1})],64)}}};export{Y as default};
