import{_ as u}from"./InputError-ea1ea5ca.js";import{_ as w}from"./InputLabel-a20d7587.js";import{_ as S}from"./AuthenticatedLayout-50909e50.js";import{I as V}from"./iconify-9ec0487d.js";import{k as A,T as q,h as M,o as E,f as F,a as o,u as a,w as d,F as N,Z as C,b as l,j as P,d as m,O as k,N as f}from"./app-2933ccec.js";import"./ApplicationLogo-6533a325.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const B={class:"tw-flex tw-flex-1 tw-flex-col"},R={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4"},U=l("div",{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},[l("h4",{class:"tw-font-title tw-font-semibold"},"Atualizar Município")],-1),G=l("div",{class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-m-2"},[l("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4"},"INFORMAÇÕES BÁSICAS")],-1),$={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-m-2 tw-pb-4"},j={class:"tw-flex tw-flex-1 tw-flex-col"},z={class:"tw-flex tw-flex-1 tw-flex-col"},I={class:"tw-flex tw-flex-1 tw-flex-col"},O={class:"tw-flex tw-justify-end tw-gap-2"},W={__name:"Editar",props:{municipio:{type:Object,default:{}}},setup(p){const n=p,c=A([]),b=["Ativo","Bloqueado","Inativo"],e=q({id:n.municipio.id,nome:n.municipio.nome,uf:n.municipio.uf,situacao:n.municipio.situacao});function v(){["nome","situacao","uf"].forEach(t=>{e[t]?e.errors[t]=null:e.errors[t]=`${g(t)} é obrigatório`})}function g(s){return s.charAt(0).toUpperCase()+s.slice(1)}const x=[{label:"Rondônia",value:"11"},{label:"Acre",value:"12"},{label:"Amazonas",value:"13"},{label:"Roraima",value:"14"},{label:"Pará",value:"15"},{label:"Amapá",value:"16"},{label:"Tocantins",value:"17"},{label:"Maranhão",value:"21"},{label:"Piauí",value:"22"},{label:"Ceará",value:"23"},{label:"Rio Grande do Norte",value:"24"},{label:"Paraíba",value:"25"},{label:"Pernambuco",value:"26"},{label:"Alagoas",value:"27"},{label:"Sergipe",value:"28"},{label:"Bahia",value:"29"},{label:"Minas Gerais",value:"31"},{label:"Espírito Santo",value:"32"},{label:"Rio de Janeiro",value:"33"},{label:"São Paulo",value:"35"},{label:"Paraná",value:"41"},{label:"Santa Catarina",value:"42"},{label:"Rio Grande do Sul",value:"43"},{label:"Mato Grosso do Sul",value:"50"},{label:"Mato Grosso",value:"51"},{label:"Goiás",value:"52"},{label:"Distrito Federal",value:"53"}];async function h(){const s=e.uf;if(s.length===2)try{const i=(await axios.get(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${s}/municipios`)).data;if(Array.isArray(i)){const r=i.map(_=>_.nome);c.value=r}else console.error("Nenhum município encontrado para esta UF.")}catch(t){console.error("Erro ao buscar municípios:",t)}}function y(){v(),k.post(route("painel.municipios.update",e.id),{_method:"patch",...e},{preserveScroll:!0,onSuccess:s=>{e.reset(),f.create({message:"Dados do municipio atualizados com sucesso.",color:"secondary"})},onError:s=>{f.create({message:"Não foi possível atualizar os dados do municipio.",color:"negative"})}})}return(s,t)=>{const i=M("q-select");return E(),F(N,null,[o(a(C),{title:"Municipios"}),o(S,null,{default:d(()=>[l("div",B,[l("div",R,[U,G,l("div",$,[l("div",j,[o(w,{for:"nome",value:"Uf",required:""}),o(i,{id:"uf",options:x,"map-options":"","emit-value":"",outlined:"",required:"",autofocus:"",autocomplete:"uf",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",modelValue:a(e).uf,"onUpdate:modelValue":t[0]||(t[0]=r=>a(e).uf=r),onBlur:h},null,8,["modelValue"]),o(u,{class:"tw-mt-2",message:a(e).errors.nome},null,8,["message"])]),l("div",z,[o(w,{for:"uf",value:"Municipio",required:""}),o(i,{id:"nome","map-options":"","emit-value":"",outlined:"",required:"",autofocus:"",autocomplete:"nome",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",modelValue:a(e).nome,"onUpdate:modelValue":t[1]||(t[1]=r=>a(e).nome=r),options:c.value},null,8,["modelValue","options"]),o(u,{class:"tw-mt-2",message:a(e).errors.nome},null,8,["message"])]),l("div",I,[o(w,{for:"situacao",value:"Situação",required:""}),o(i,{options:b,outlined:"",modelValue:a(e).situacao,"onUpdate:modelValue":t[2]||(t[2]=r=>a(e).situacao=r),id:"situacao",class:"tw-mt-1 tw-text-gray-700 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),o(u,{class:"tw-mt-2",message:a(e).errors.situacao},null,8,["message"])])]),l("div",O,[o(a(P),{href:s.route("painel.municipios"),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},{default:d(()=>[m(" VOLTAR ")]),_:1},8,["href"]),l("span",{onClick:t[3]||(t[3]=r=>y()),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-border-transparent tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-white tw-bg-green-500 tw-items-center"},[o(a(V),{icon:"fluent:save-16-regular",class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2"}),m(" Salvar ")])])])])]),_:1})],64)}}};export{W as default};
