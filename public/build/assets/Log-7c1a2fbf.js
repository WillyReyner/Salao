import{_ as O}from"./AuthenticatedLayout-0b4545fd.js";import{k as L,h as u,o as e,f as o,a as d,u as f,w as n,F as w,Z as S,b as s,t as r,q as m,j as V,d as B,c as y,g as v}from"./app-846bdf4e.js";import{f as N}from"./Formats-15460413.js";import"./iconify-9fabe4c1.js";import"./ApplicationLogo-00219c91.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const E={class:"tw-flex tw-flex-1 tw-flex-col tw-overflow-y-scroll"},P={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4"},T={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},$={class:"tw-font-title tw-font-semibold"},z={class:"tw-antialiased tw-font-body"},F={class:"tw-py-4 tw-overflow-x-auto"},H={class:"tw-flex tw-flex-1 tw-flex-col tw-overflow-hidden"},I={class:"tw-font-title tw-text-gray-600 tw-text-lg"},R={key:0},U={key:1},Q={key:2},Z={key:3},G={key:0},J={key:1},K={class:"tw-flex tw-justify-end tw-gap-2"},at={__name:"Log",props:{turma:{type:Object,default:{}},inscricoes:{type:Object,default:[]},curso:{type:Object,default:[]},edital:{type:Object,default:[]},logs:{type:Array,default:[]}},setup(l){const x=[{name:"date",align:"center",label:"Data e Horário",field:"created_at",sortable:!0},{name:"user",align:"center",label:"Usuário",field:"causer",sortable:!0},{name:"event",align:"center",label:"Ação",field:"event",sortable:!0},{name:"properties",align:"left",label:"Descrição",field:"properties",sortable:!1}],p={nome:"Nome",id_curso_siga:"Id do Curso do Siga",escola_curso_siga:"Escola do Siga",situacao:"Situação",link_video_apresentacao:"Link do Video de Apresentação",imagem:"Imagem",destaque:"Destaque",objetivos:"Objetivos",conteudo_programatico:"Conteudo Programatico",campo_atuacao:"Campo de Atuação",tag:"Tags",descricao:"Descricao",categoria:"Categoria",horas_curso:"Qnt de horas do curso",created_by:"Criado por quem?",updated_by:"Atualizado por quem?",created_at:"Criado quando?",updated_at:"Atualizado quando?",deleted_at:"Deletado quando?"},q={created:"Criação",updated:"Edição",deleted:"Exclusão"},g=L({sortBy:"desc",descending:!1,page:1,rowsPerPage:10});return(C,b)=>{const j=u("q-th"),h=u("q-tr"),k=u("q-td"),A=u("q-table");return e(),o(w,null,[d(f(S),{title:"Cursos"}),d(O,null,{default:n(()=>[s("div",E,[s("div",P,[s("div",T,[s("h4",$,"Histórico da Turma "+r(l.turma.nome),1)]),s("div",z,[s("div",F,[s("div",H,[d(A,{flat:"",columns:x,rows:l.logs,"row-key":"id","no-data-label":"Sem dados de log","rows-per-page-label":"Registros por página",pagination:g.value,"onUpdate:pagination":b[0]||(b[0]=t=>g.value=t),"pagination-label":(t,a,c)=>`${t} à ${a} de ${c} registros`},{header:n(t=>[d(h,{props:l.curso,class:"tw-h-20"},{default:n(()=>[(e(!0),o(w,null,m(t.cols,a=>(e(),y(j,{key:a.name,props:t},{default:n(()=>[s("span",I,r(a.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:n(t=>[d(h,{props:t,"no-hover":"",class:"roundful tw-overflow-hidden tw-rounded-lg hover:tw-bg-green-100 tw-h-20 tw-transition-colors"},{default:n(()=>[(e(!0),o(w,null,m(t.cols,a=>(e(),y(k,{key:a.name,props:t},{default:n(()=>{var c;return[a.name=="date"?(e(),o("div",R,r(f(N)(t.row.created_at)),1)):a.name=="user"?(e(),o("div",U,r(((c=t.row.causer)==null?void 0:c.name)??"Sistema"),1)):a.name=="event"?(e(),o("div",Q,r(q[t.row.event]||"Outra ação"),1)):a.name=="properties"?(e(),o("div",Z,[(e(!0),o(w,null,m(t.row.properties.attributes,(_,i)=>(e(),o("div",null,[i=="escola_id"?(e(),o("div",G,r(p[i]||i)+": "+r(l.curso.find(D=>D.id==_).nome||_),1)):i!="created_by"&&i!="updated_by"&&i!="downloads"?(e(),o("div",J,r(p[i]||i)+": "+r(_),1)):v("",!0)]))),256))])):v("",!0)]}),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","pagination","pagination-label"])])])]),s("div",K,[d(f(V),{href:C.route("painel.turmas"),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},{default:n(()=>[B(" VOLTAR ")]),_:1},8,["href"])])])])]),_:1})],64)}}};export{at as default};
