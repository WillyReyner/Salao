import{_ as q}from"./PrimaryButton-0afca82d.js";import{_ as W}from"./AuthenticatedLayout-0a5f0791.js";import{k as x,T as E,h as b,o as c,f as w,a as t,u as o,w as d,F as M,Z as Y,b as a,t as tt,g as u,p as z,j as et,d as m,O as S,N as h,c as B}from"./app-4ab3c1a7.js";import{I as p}from"./iconify-59ac6911.js";import{_}from"./InputLabel-e21345d2.js";import{_ as v}from"./InputError-8e97e87c.js";import{_ as ot}from"./TurmaInInscricao-e64ffd1c.js";import"./ApplicationLogo-af625855.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-63df1496.js";const st={class:"tw-flex tw-flex-1 tw-flex-col"},at={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},lt={class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},rt={class:"tw-font-title tw-font-semibold"},it=a("div",{class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-m-2"},[a("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4",style:{"border-bottom":"2px solid #ccc"}}," Dados do Estudante ")],-1),nt={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-2 tw-m-2"},ct={class:"tw-flex tw-flex-1 tw-flex-col"},wt={class:"tw-flex tw-flex-1 tw-flex-col"},dt={class:"tw-flex tw-flex-1 tw-flex-col"},ut={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-2 tw-m-2"},mt={class:"tw-flex tw-flex-1 tw-flex-col"},ft={class:"tw-flex tw-flex-1 tw-flex-col"},pt={class:"tw-flex tw-flex-1 tw-flex-col"},gt={key:0,class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-m-2"},_t=a("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4",style:{"border-bottom":"2px solid #ccc"}}," DOCUMENTOS ANEXADOS PARA INSCRIÇÃO ",-1),vt=[_t],xt={class:"tw-grid tw-grid-cols-2 tw-gap-6"},bt={class:"tw-w-full"},ht={key:0,class:"tw-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},yt={class:"tw-ml-auto"},kt={key:1,class:"tw-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-rose-600 active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-red-700 tw-bg-white tw-items-center"},Vt={class:"tw-ml-auto"},qt={key:0,class:"tw-ml-2 tw-pt-5"},Ct={key:1,class:"tw-ml-2 tw-pt-5"},At=["src"],Nt=a("br",null,null,-1),Et={key:1,class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-m-2"},Mt=a("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4",style:{"border-bottom":"2px solid #ccc"}}," DOCUMENTOS ANEXADOS PARA MATRÍCULA ",-1),St=[Mt],Ot={class:"tw-grid tw-grid-cols-2 tw-gap-6"},Dt={class:"tw-w-full"},Tt={key:0,class:"tw-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},It={class:"tw-ml-auto"},Ut={key:1,class:"tw-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-rose-600 active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-red-700 tw-bg-white tw-items-center"},$t={class:"tw-ml-auto"},Ft={key:0,class:"tw-ml-2 tw-pt-5"},Rt={key:1,class:"tw-ml-2 tw-pt-5"},jt=["src"],Lt=a("div",{class:"tw-flex md:tw-flex-row tw-flex-col tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},[a("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4"}," Turmas Selecionadas ")],-1),zt={class:"tw-flex tw-justify-end tw-gap-2"},te={__name:"Editar",props:{inscricoes:{type:Object,default:{}},turmas:{type:Array,default:{}},comprovantes:{type:Object,default:{}},comprovantesMatricula:{type:Object,default:{}},documentacao_inscricao:{type:Array,default:[]},documentacao_matricula:{type:Array,default:[]}},setup(O){const r=O,C=x(""),A=x(""),y=x(!1),k=x(!1),g=x(""),V=x(""),D=(i,s,n)=>{C.value=$(i),g.value=s,V.value=n,y.value=!0},T=(i,s,n)=>{A.value=$(i),g.value=s,V.value=n,k.value=!0},P=()=>{C.value="",y.value=!1},H=()=>{A.value="",k.value=!1},I=i=>{const s=parseInt(i),n=r.documentacao_inscricao.find(N=>N.id===s);return n?n.nome:""},X=["Nova","Em Analise","Matriculado","Finalizado"],l=E({id:r.inscricoes.id,nome_completo:r.inscricoes.nome_completo,cpf:r.inscricoes.cpf,situacao:r.inscricoes.situacao,email:r.inscricoes.email,telefone:r.inscricoes.telefone,data_nascimento:r.inscricoes.data_nascimento?r.inscricoes.data_nascimento.split(" ")[0]:"",telefone_alternativo:r.inscricoes.telefone_alternativo,tipo_documento:r.inscricoes.tipo_documento,documento:r.inscricoes.documento}),U=E({id:r.comprovantes.id}),Z=E({id:r.comprovantesMatricula.id});function G(){const i={nome_completo:"Nome",cpf:"Fim do Edital",email:"Email",data_nascimento:"Data de Nascimento",telefone:"Telefone"};Object.keys(i).forEach(n=>{l[n]?l.errors[n]=null:l.errors[n]=`O campo ${i[n]} é obrigatório`})}function J(){G(),S.post(route("painel.inscricoes.update",l.id),{_method:"patch",...l},{preserveScroll:!0,onSuccess:i=>{l.reset(),h.create({message:"Dados da Inscricao foram atualizados com sucesso.",color:"secondary"})},onError:i=>{h.create({message:"Não foi possível atualizar os dados da Turma.",color:"negative"})}})}function K(i){g.value=i,S.post(route("painel.inscricoes.validarDocMatricula",{id:g.value}),{_method:"patch",...Z},{preserveScroll:!0,onSuccess:s=>{l.reset(),h.create({message:"Documento de matrícula validado com sucesso.",color:"secondary"})},onError:s=>{console.error("Erro na validação de documentos de matricula:",s),h.create({message:"Não foi possível atualizar os dados da Turma.",color:"negative"})}}),k.value=!1}function Q(i){g.value=i,S.post(route("painel.inscricoes.validarDocInscricao",{id:g.value}),{_method:"patch",...U},{preserveScroll:!0,onSuccess:s=>{U.reset(),h.create({message:"Documento de inscrição validado com sucesso.",color:"secondary"})},onError:s=>{console.error("Erro na validação de documentos de inscrição:",s),h.create({message:"Não foi possível validar os documentos da Turma.",color:"negative"})}}),y.value=!1}const $=i=>`/storage/${i}`;return(i,s)=>{const n=b("q-input"),N=b("q-select"),F=b("q-card-section"),R=b("q-card-actions"),j=b("q-card"),L=b("q-dialog");return c(),w(M,null,[t(o(Y),{title:"Editais"}),t(W,null,{default:d(()=>[a("div",st,[a("div",at,[a("div",lt,[a("h4",rt,tt(o(l).nome_completo),1)]),it,a("div",nt,[a("div",ct,[t(_,{for:"nome_completo",value:"Nome Completo",required:""}),t(n,{outlined:"",id:"nome_completo","map-options":"","emit-value":"",modelValue:o(l).nome_completo,"onUpdate:modelValue":s[0]||(s[0]=e=>o(l).nome_completo=e),class:"tw-mt-1 tw-text-gray-700 tw-bg-white-50 tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),t(v,{class:"tw-mt-2",message:o(l).errors.nome_completo},null,8,["message"])]),a("div",wt,[t(_,{for:"documento",value:o(l).tipo_documento,required:""},null,8,["value"]),t(n,{outlined:"",id:"documento",mask:"###.###.###-##","map-options":"","emit-value":"",modelValue:o(l).documento,"onUpdate:modelValue":s[1]||(s[1]=e=>o(l).documento=e),class:"tw-mt-1 tw-text-gray-700 tw-bg-white-50 tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),t(v,{class:"tw-mt-2",message:o(l).errors.documento},null,8,["message"])]),a("div",dt,[t(_,{for:"situacao",value:"Status",required:""}),t(N,{id:"situacao",outlined:"","map-options":"","emit-value":"",modelValue:o(l).situacao,"onUpdate:modelValue":s[2]||(s[2]=e=>o(l).situacao=e),options:X,class:"tw-mt-1 tw-text-gray-700 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),t(v,{class:"tw-mt-2",message:o(l).errors.situacao},null,8,["message"])])]),a("div",ut,[a("div",mt,[t(_,{for:"data_nascimento",value:"Data Nascimento",required:""}),t(n,{outlined:"",id:"data_nascimento",type:"date",required:"",autofocus:"",autocomplete:"data_nascimento",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",modelValue:o(l).data_nascimento,"onUpdate:modelValue":s[3]||(s[3]=e=>o(l).data_nascimento=e)},null,8,["modelValue"]),t(v,{class:"tw-mt-2",message:o(l).errors.dt_fim_edital},null,8,["message"])]),a("div",ft,[t(_,{for:"email",value:"E-mail",required:""}),t(n,{outlined:"",id:"email","map-options":"","emit-value":"",modelValue:o(l).email,"onUpdate:modelValue":s[4]||(s[4]=e=>o(l).email=e),class:"tw-mt-1 tw-text-gray-700 tw-bg-white-50 tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),t(v,{class:"tw-mt-2",message:o(l).errors.email},null,8,["message"])]),a("div",pt,[t(_,{for:"telefone",value:"Telefone",required:""}),t(n,{outlined:"",id:"telefone",mask:"(##) #####-####","map-options":"","emit-value":"",modelValue:o(l).telefone,"onUpdate:modelValue":s[5]||(s[5]=e=>o(l).telefone=e),class:"tw-mt-1 tw-text-gray-700 tw-bg-white-50 tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),t(v,{class:"tw-mt-2",message:o(l).errors.telefone},null,8,["message"])])]),r.comprovantes.length>0?(c(),w("div",gt,vt)):u("",!0),a("div",xt,[(c(!0),w(M,null,z(r.comprovantes,e=>(c(),w("div",{key:e.id,class:"tw-w-full tw-flex tw-items-center tw-justify-between"},[a("div",bt,[t(_,{for:`tipo_arquivo_${e.id}`,value:I(e.tipo_arquivo_id),required:""},null,8,["for","value"]),e.status==="Sim"?(c(),w("a",ht,[m(" VER DOCUMENTACAO "),a("div",yt,[t(o(p),{icon:"material-symbols-light:quick-reference-all-outline",width:"28",class:"tw-text-green-700",onClick:f=>D(e.caminho,e.id,e.status)},null,8,["onClick"])])])):u("",!0),e.status==="Nao"?(c(),w("a",kt,[m(" VER DOCUMENTACAO "),a("div",Vt,[t(o(p),{icon:"material-symbols-light:quick-reference-all-outline",width:"28",class:"tw-text-red-700",onClick:f=>D(e.caminho,e.id,e.status)},null,8,["onClick"])])])):u("",!0),t(v,{class:"tw-mt-2",message:o(l).errors.nome_completo},null,8,["message"])]),e.status==="Sim"?(c(),w("div",qt,[t(o(p),{icon:"tabler:square-check",width:"40",class:"tw-text-green-700"})])):u("",!0),e.status==="Nao"?(c(),w("div",Ct,[t(o(p),{icon:"charm:square-cross",width:"40",class:"tw-text-red-700"})])):u("",!0),t(L,{modelValue:y.value,"onUpdate:modelValue":s[6]||(s[6]=f=>y.value=f)},{default:d(()=>[t(j,{class:"column full-height",style:{width:"900px","max-width":"80vw"}},{default:d(()=>[t(F,{style:{height:"90%"}},{default:d(()=>[a("iframe",{src:C.value,style:{width:"100%",height:"100%",border:"none"}},null,8,At)]),_:1}),t(R,{align:"right"},{default:d(()=>[t(q,{onClick:P,"button-class":"tw-text-primary tw-flex tw-bg-white tw-border-2 tw-border-primary tw-h-8"},{default:d(()=>[m(" FECHAR ")]),_:1}),V.value!=="Sim"?(c(),B(q,{key:0,onClick:f=>e&&e.id&&Q(g.value),"button-class":"tw-text-white tw-flex tw-bg-primary tw-h-8 "},{default:d(()=>[m(" VALIDAR ")]),_:2},1032,["onClick"])):u("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]))),128))]),Nt,r.comprovantesMatricula.length>0?(c(),w("div",Et,St)):u("",!0),a("div",Ot,[(c(!0),w(M,null,z(r.comprovantesMatricula,e=>(c(),w("div",{key:e.id,class:"tw-w-full tw-flex tw-items-center tw-justify-between"},[a("div",Dt,[t(_,{for:`tipo_arquivo_${e.id}`,value:I(e.tipo_arquivo_id),required:""},null,8,["for","value"]),e.status==="Sim"?(c(),w("a",Tt,[m(" VER DOCUMENTACAO "),a("div",It,[t(o(p),{icon:"material-symbols-light:quick-reference-all-outline",width:"28",class:"tw-text-green-700",onClick:f=>T(e.caminho,e.id,e.status)},null,8,["onClick"])])])):u("",!0),e.status==="Nao"?(c(),w("a",Ut,[m(" VER DOCUMENTACAO "),a("div",$t,[t(o(p),{icon:"material-symbols-light:quick-reference-all-outline",width:"28",class:"tw-text-red-700",onClick:f=>T(e.caminho,e.id,e.status)},null,8,["onClick"])])])):u("",!0),t(v,{class:"tw-mt-2",message:o(l).errors.nome_completo},null,8,["message"])]),e.status==="Sim"?(c(),w("div",Ft,[t(o(p),{icon:"tabler:square-check",width:"40",class:"tw-text-green-700"})])):u("",!0),e.status==="Nao"?(c(),w("div",Rt,[t(o(p),{icon:"charm:square-cross",width:"40",class:"tw-text-red-700"})])):u("",!0),t(L,{modelValue:k.value,"onUpdate:modelValue":s[7]||(s[7]=f=>k.value=f)},{default:d(()=>[t(j,{class:"column full-height",style:{width:"900px","max-width":"80vw"}},{default:d(()=>[t(F,{style:{height:"90%"}},{default:d(()=>[a("iframe",{src:A.value,style:{width:"100%",height:"100%",border:"none"}},null,8,jt)]),_:1}),t(R,{align:"right"},{default:d(()=>[t(q,{onClick:H,"button-class":"tw-text-primary tw-flex tw-bg-white tw-border-2 tw-border-primary tw-h-8"},{default:d(()=>[m(" FECHAR ")]),_:1}),V.value!=="Sim"?(c(),B(q,{key:0,onClick:f=>e&&e.id&&K(g.value),"button-class":"tw-text-white tw-flex tw-bg-primary tw-h-8 "},{default:d(()=>[m(" VALIDAR ")]),_:2},1032,["onClick"])):u("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]))),128))]),Lt,t(ot,{disabled:"",turmas:O.turmas,d:!0,class:"tw-pb-4"},null,8,["turmas"]),a("div",zt,[t(o(et),{href:i.route("painel.inscricoes"),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},{default:d(()=>[m(" VOLTAR ")]),_:1},8,["href"]),a("span",{onClick:s[8]||(s[8]=e=>J()),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-border-transparent tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-white tw-bg-green-500 tw-items-center"},[t(o(p),{icon:"fluent:save-16-regular",class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2"}),m(" Salvar ")])])])])]),_:1})],64)}}};export{te as default};
