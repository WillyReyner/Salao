import{_ as n}from"./InputError-8e97e87c.js";import{_ as d}from"./InputLabel-e21345d2.js";import{_ as M}from"./AuthenticatedLayout-0a5f0791.js";import{I as h}from"./iconify-59ac6911.js";import{k as _,T as P,m as O,h as m,o as T,f as z,a as o,u as t,w as f,F as G,Z as H,b as s,q as K,d as g,j as Q,O as Z,N as k}from"./app-4ab3c1a7.js";import"./ApplicationLogo-af625855.js";import"./logo-efg-4f53c449.js";import"./_plugin-vue_export-helper-c27b6911.js";const J={class:"tw-flex tw-flex-1 tw-flex-col"},W={class:"tw-flex tw-flex-1 tw-flex-col tw-justify-start tw-bg-white tw-shadow sm:tw-rounded-lg tw-px-8 tw-py-4 tw-overflow-hidden tw-overflow-y-scroll"},X=s("div",{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-4 tw-py-4 tw-items-center tw-justify-between items tw-border-b-2 tw-border-gray-200"},[s("h4",{class:"tw-font-title tw-font-semibold"},"Adicionar Curso")],-1),Y=s("div",{class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-10 tw-gap-2 tw-m-2"},[s("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-my-4"}," INFORMAÇÕES SOBRE O CURSO ")],-1),ee={class:"tw-flex md:tw-flex-row tw-flex-col md:tw-gap-2 tw-gap-2"},te={class:"tw-flex tw-flex-2 tw-flex-col"},oe={class:"q-file-image"},ae={class:"tw-flex tw-flex-auto tw-flex-col"},se={class:"tw-flex tw-flex-row tw-justify-between"},le={class:"tw-flex tw-flex-col tw-mr-4 tw-w-3/4"},re={class:"tw-flex tw-flex-col tw-w-1/4"},ie={class:"tw-flex tw-flex-col tw-mt-4"},ue={class:"tw-flex tw-flex-row"},ne={class:"tw-flex tw-flex-0 tw-gap-4 tw-my-1"},de={class:"tw-w-full"},we={class:"tw-w-full"},ce={class:"tw-flex tw-flex-0 tw-gap-4 tw-my-2"},me={class:"tw-w-full"},fe={class:"tw-w-full"},pe=s("div",{class:"tw-flex tw-flex-col md:tw-flex-row md:tw-gap-2 tw-gap-2"},[s("p",{class:"tw-flex tw-flex-1 tw-text-green-800 tw-text-lg tw-font-title tw-mb-4"}," INFORMAÇÕES COMPLEMENTARES ")],-1),_e={class:"tw-flex tw-flex-0 tw-gap-4 tw-mb-4"},ge={class:"tw-w-full"},xe={class:"tw-flex tw-flex-col tw-pt-2 tw-justify-start"},ve={class:"tw-flex tw-flex-col tw-pt-2"},be={class:"tw-flex tw-flex-col tw-pt-2"},ye={class:"tw-flex tw-flex-col tw-pt-2"},Ve={class:"tw-flex tw-justify-end tw-gap-2 tw-pt-2"},Ne={__name:"Editar",props:{turmas:{type:Array,default:[]},curso:{type:Object,default:{}},tags:{type:Array,default:[]}},setup(C){const i=C,x=_([]),v=_([]),b=i.tags.map(r=>({label:r.nome,value:r.id})),y=i.tags.map(r=>({label:r.nome,value:r.id})),S=["Iniciante","Intermediário","Avançado"],U=["Curta (40 a 80 horas)","Média (160 a 240 horas)","Longa (800 a 1440 horas)"],A=["Ativo","Inativo","Bloqueado"],N=["Faixa Etaria 1","Faixa Etaria 2","Faixa Etaria 3"],e=P({id:i.curso.id,nome:i.curso.nome,id_curso_siga:i.curso.id_curso_siga,escola_curso_siga:i.curso.escola_curso_siga,situacao:i.curso.situacao,destaque:i.curso.destaque,link_video_apresentacao:i.curso.link_video_apresentacao,horas_curso:i.curso.horas_curso,nivel:i.curso.nivel,faixa_etaria:i.curso.faixa_etaria,area:i.curso.tags.length>0?i.curso.tags.filter(r=>r.tipo==="area").map(r=>({label:r.tag.nome,value:r.tag.id})):[],subarea:i.curso.tags.length>0?i.curso.tags.filter(r=>r.tipo==="subarea").map(r=>({label:r.tag.nome,value:r.tag.id})):[],texto_site:i.curso.texto_site,des_texto_site:i.curso.des_texto_site===1?!0:0,disciplina:i.curso.disciplina,des_disciplina:i.curso.des_disciplina===1?!0:0,conteudo_programatico:i.curso.conteudo_programatico,des_conteudo:i.curso.des_conteudo===1?!0:0,area_atuacao:i.curso.area_atuacao,des_area_atuacao:i.curso.des_area_atuacao===1?!0:0,imagem:i.curso.imagem});function E(r,a){if(r===""){a(()=>{x.value=b,v.value=y});return}a(()=>{const w=r.toLowerCase();x.value=b.filter(u=>u.label.toLowerCase().indexOf(w)>-1),v.value=y.filter(u=>u.label.toLowerCase().indexOf(w)>-1)})}const F=_("https://t4.ftcdn.net/jpg/04/73/25/49/360_F_473254957_bxG9yf4ly7OBO5I0O5KABlN930GwaMQz.jpg"),V=_(null),I=r=>new Promise((a,w)=>{const u=new FileReader;u.readAsDataURL(r),u.onload=()=>a(u.result),u.onerror=c=>w(c)}),j=async r=>{V.value=await I(r),e.imagem=r},L=O(()=>`background-image: url(${V.value||F.value})`);O(()=>`background-image: url(${i.curso.imagem})`);function R(){const r={nome:"Nome",situacao:"",destaque:"Destaque",link_video_apresentacao:"Link do Video",horas_curso:"Carga Horária",nivel:"Nível",faixa_etaria:"",area:"Área",subarea:"Subarea",texto_site:"Texto do Site",des_texto_site:"Ocultar Texto do Site?",disciplina:"Disciplina",des_disciplina:"Ocultar Disciplina?",conteudo_programatico:"Conteudo Programatico",des_conteudo:"Ocultar Conteudo?",area_atuacao:"Área de Atuação",des_area_atuacao:"Ocultar Ação?",imagem:"Imagem"};Object.keys(r).forEach(w=>{e[w]?e.errors[w]=null:e.errors[w]=`O campo ${r[w]} é obrigatório`})}function B(){R(),Z.post(route("painel.cursos.update",e.id),{_method:"patch",...e},{preserveScroll:!0,onSuccess:r=>{e.reset(),k.create({message:"Dados do curso atualizado com sucesso.",color:"secondary"})},onError:r=>{k.create({message:"Não foi possível atualizar os dados do curso.",color:"negative"})}})}return(r,a)=>{const w=m("q-file"),u=m("q-input"),c=m("q-select"),q=m("q-radio"),$=m("q-item-section"),D=m("q-item"),p=m("q-toggle");return T(),z(G,null,[o(t(H),{title:"Cursos"}),o(M,null,{default:f(()=>[s("div",J,[s("div",W,[X,Y,s("div",ee,[s("div",te,[s("div",oe,[o(w,{outlined:"","model-value":t(e).imagem,"onUpdate:modelValue":j,accept:".jpg,.png"},{before:f(()=>[s("div",{class:"q-file-image-preview",style:K(L.value)},null,4)]),_:1},8,["model-value"])])]),s("div",ae,[s("div",se,[s("div",le,[o(d,{for:"nome",value:"Nome do Curso",required:""}),o(u,{id:"nome",modelValue:t(e).nome,"onUpdate:modelValue":a[0]||(a[0]=l=>t(e).nome=l),type:"text",outlined:"",class:"tw-mt-1 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-500 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),o(n,{class:"tw-mt-2",message:t(e).errors.nome},null,8,["message"])]),s("div",re,[o(d,{for:"situacao",value:"Status",required:""}),o(c,{id:"situacao",modelValue:t(e).situacao,"onUpdate:modelValue":a[1]||(a[1]=l=>t(e).situacao=l),options:A,outlined:"",class:"tw-mt-1 tw-text-gray-700 tw-h-[52px] tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm"},null,8,["modelValue"]),o(n,{class:"tw-mt-2",message:t(e).errors.situacao},null,8,["message"])])]),s("div",ie,[o(d,{for:"destaque",value:"Destaque",required:""}),s("div",ue,[o(q,{modelValue:t(e).destaque,"onUpdate:modelValue":a[2]||(a[2]=l=>t(e).destaque=l),val:"Sim",label:"Sim"},null,8,["modelValue"]),o(q,{modelValue:t(e).destaque,"onUpdate:modelValue":a[3]||(a[3]=l=>t(e).destaque=l),val:"Nao",label:"Não"},null,8,["modelValue"])]),o(n,{class:"tw-mt-2",message:t(e).errors.destaque},null,8,["message"])]),s("div",ne,[s("div",de,[o(d,{for:"link_video_apresentacao",value:"Link do Vídeo sobre o Curso",required:""}),o(u,{id:"link_video_apresentacao",outlined:"",modelValue:t(e).link_video_apresentacao,"onUpdate:modelValue":a[4]||(a[4]=l=>t(e).link_video_apresentacao=l),type:"text"},null,8,["modelValue"]),o(n,{class:"tw-mt-2",message:t(e).errors.link_video_apresentacao},null,8,["message"])]),s("div",we,[o(d,{for:"horas_curso",value:"Carga Horária",required:""}),o(c,{outlined:"",options:U,modelValue:t(e).horas_curso,"onUpdate:modelValue":a[5]||(a[5]=l=>t(e).horas_curso=l),id:"horas_curso"},null,8,["modelValue"]),o(n,{class:"tw-mt-2",message:t(e).errors.horas_curso},null,8,["message"])])]),s("div",ce,[s("div",me,[o(d,{for:"nivel",value:"Nível",required:""}),o(c,{outlined:"",options:S,modelValue:t(e).nivel,"onUpdate:modelValue":a[6]||(a[6]=l=>t(e).nivel=l),id:"nivel"},null,8,["modelValue"]),o(n,{class:"tw-mt-2",message:t(e).errors.nivel},null,8,["message"])]),s("div",fe,[o(d,{for:"faixa_etaria",value:"Faixa Etária",required:""}),o(c,{outlined:"",options:N,modelValue:t(e).faixa_etaria,"onUpdate:modelValue":a[7]||(a[7]=l=>t(e).faixa_etaria=l),id:"horas_curso"},null,8,["modelValue"]),o(n,{class:"tw-mt-2",message:t(e).errors.faixa_etaria},null,8,["message"])])])])]),pe,s("div",_e,[s("div",ge,[o(d,{for:"area",value:"Área Principal",required:""}),o(c,{"use-chips":"",multiple:"",outlined:"","use-input":"",modelValue:t(e).area,"onUpdate:modelValue":a[8]||(a[8]=l=>t(e).area=l),"input-debounce":"0",options:x.value,onFilter:E,behavior:"menu"},{"no-option":f(()=>[o(D,null,{default:f(()=>[o($,{class:"text-grey"},{default:f(()=>[g(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"]),o(n,{class:"tw-mt-2",message:t(e).errors.area},null,8,["message"])])]),s("div",xe,[o(d,{for:"resumo",value:"Texto para Site",required:""}),o(u,{outlined:"",rows:"4",modelValue:t(e).texto_site,"onUpdate:modelValue":a[9]||(a[9]=l=>t(e).texto_site=l),type:"textarea"},null,8,["modelValue"]),o(n,{class:"tw-mt-2",message:t(e).errors.texto_site},null,8,["message"])]),s("div",null,[o(p,{class:"tw-text-neutral-600 tw-mb-2","left-label":"",modelValue:t(e).des_texto_site,"onUpdate:modelValue":a[10]||(a[10]=l=>t(e).des_texto_site=l),label:"Ocultar campo no site"},null,8,["modelValue"])]),s("div",ve,[o(d,{for:"conteudo_programatico",value:"Disciplina",required:""}),o(u,{outlined:"",rows:"4",class:"tw-mt-1 tw-text-gray-700 tw-bg-white-50 tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-smauto-upload",modelValue:t(e).disciplina,"onUpdate:modelValue":a[11]||(a[11]=l=>t(e).disciplina=l),type:"textarea"},null,8,["modelValue"]),o(n,{class:"tw-mt-2",message:t(e).errors.disciplina},null,8,["message"])]),s("div",null,[o(p,{class:"tw-text-neutral-600 tw-mb-2","left-label":"",modelValue:t(e).des_disciplina,"onUpdate:modelValue":a[12]||(a[12]=l=>t(e).des_disciplina=l),label:"Ocultar campo no site"},null,8,["modelValue"])]),s("div",be,[o(d,{for:"conteudo_programatico",value:"Conteúdo Programático",required:""}),o(u,{outlined:"",rows:"4",class:"tw-mt-1 tw-text-gray-700 tw-bg-white-50 tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",modelValue:t(e).conteudo_programatico,"onUpdate:modelValue":a[13]||(a[13]=l=>t(e).conteudo_programatico=l),type:"textarea"},null,8,["modelValue"]),o(n,{class:"tw-mt-2",message:t(e).errors.conteudo_programatico},null,8,["message"])]),s("div",null,[o(p,{class:"tw-text-neutral-600 tw-mb-2","left-label":"",modelValue:t(e).des_conteudo,"onUpdate:modelValue":a[14]||(a[14]=l=>t(e).des_conteudo=l),label:"Ocultar campo no site"},null,8,["modelValue"])]),s("div",ye,[o(d,{for:"area_atuacao",value:"Áreas de Atuação",required:""}),o(u,{outlined:"",rows:"4",class:"tw-mt-1 tw-text-gray-700 tw-bg-white-50 tw-block tw-w-full tw-border-gray-200 focus:tw-border-gray-200 focus:tw-ring-0 tw-rounded-lg tw-shadow-sm",modelValue:t(e).area_atuacao,"onUpdate:modelValue":a[15]||(a[15]=l=>t(e).area_atuacao=l),type:"textarea"},null,8,["modelValue"]),o(n,{class:"tw-mt-2",message:t(e).errors.area_atuacao},null,8,["message"])]),s("div",null,[o(p,{class:"tw-text-neutral-600 tw-mb-2","left-label":"",modelValue:t(e).des_area_atuacao,"onUpdate:modelValue":a[16]||(a[16]=l=>t(e).des_area_atuacao=l),label:"Ocultar campo no site"},null,8,["modelValue"])]),s("div",Ve,[o(t(Q),{href:r.route("painel.cursos"),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-primary tw-bg-white tw-items-center"},{default:f(()=>[g(" CANCELAR ")]),_:1},8,["href"]),s("span",{onClick:a[17]||(a[17]=l=>B()),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-opacity-90 tw-border-primary active:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-gray-300 tw-bg-white tw-items-center"},[o(t(h),{icon:"fluent:save-16-regular",class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2"}),g(" Salvar Rascunho ")]),s("span",{onClick:a[18]||(a[18]=l=>r.store()),class:"tw-inline-flex tw-cursor-pointer tw-px-8 tw-py-4 tw-border tw-border-transparent tw-rounded-md tw-font-body tw-font-semibold tw-text-base tw-uppercase hover:tw-bg-opacity-90 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-indigo-500 focus:tw-ring-offset-2 tw-transition tw-ease-in-out tw-duration-150 tw-text-white tw-bg-green-500 tw-items-center"},[o(t(h),{icon:"fluent:save-16-regular",class:"tw-h-6 tw-w-6 tw-text-white tw-mr-2"}),g(" Salvar ")])])])])]),_:1})],64)}}};export{Ne as default};
